/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. f0b39a49:kek3ed45 */
!function r(o,a,s){function d(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);throw new Error("Cannot find module '"+n+"'")}var i=a[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return d(t||e)},i,i.exports,r,o,a,s)}return a[n].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,t,n){"use strict";function i(){var e=a(["dcn=","&pos=","&cmd=bid",""]);return i=function(){return e},e}function r(){var e=a(["","/bidRequest?"]);return r=function(){return e},e}function o(){var e=a(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return o=function(){return e},e}function a(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=e("../shim.js").polyfills,d=s.utils,c=(s.registerBidder,s.BANNER),u={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},l={GET:"display-get"},p={GET:"mobile-get",POST:"mobile-post"},g={TAG:"iframe",TYPE:"iframe"},f={TAG:"img",TYPE:"image"},m=x(o(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),h=x(r(),"host"),b=x(i(),"dcn","pos","dynamicParams"),v={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},y="https",_=1;function x(a){for(var e=arguments.length,n=new Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var r=i[i.length-1]||{},o=[a[0]];return n.forEach(function(e,t){var n=d.isInteger(e)?i[e]:r[e];o.push(n,a[t+1])}),o.join("")}}function w(e){return e===u.AOL||e===u.ONEMOBILE}function A(e){if(w(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function S(e){return w(e.bidder)&&e.params.dcn&&e.params.pos}function I(e){return((t=e.bidder)===u.AOL||t===u.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}var z={code:u.AOL,gvlid:25,aliases:[u.ONEMOBILE,u.ONEDISPLAY],supportedMediaTypes:[c],isBidRequestValid:function(e){return I(e)||(S(t=e)||A(t));var t},buildRequests:function(e,t){var i=this,r={};return t&&(r.gdpr=t.gdprConsent,r.uspConsent=t.uspConsent),e.map(function(e){var t,n=S(t=e)?p.GET:A(t)?p.POST:I(t)?l.GET:void 0;if(n)return i.formatBidRequest(n,e,r)})},interpretResponse:function(e,t){var n=e.body;if(n){var i=this._parseBidResponse(n,t);if(i)return i}else d.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){var n=!d.isEmpty(t)&&t[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,n){var i;switch(e){case l.GET:i={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case p.GET:i={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case p.POST:i={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return i.bidderCode=t.bidder,i.bidId=t.bidId,i.userSyncOn=t.params.userSyncOn,i},buildMarketplaceUrl:function(e,t){var n,i=e.params,r=i.server,o=i.region||"us";return v.hasOwnProperty(o)||(d.logWarn("Unknown region '".concat(o,"' for AOL bidder.")),o="us"),n=r||v[o],i.region=o,this.applyProtocol(m({host:n,network:i.network,placement:parseInt(i.placement),pageid:i.pageId||0,sizeid:i.sizeId||0,alias:i.alias||d.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(i,t)}))},buildOneMobileGetUrl:function(e,t){var n,i=e.params,r=i.dcn,o=i.pos,a=i.ext,s=this.buildOneMobileBaseUrl(e);return r&&o&&(n=this.formatOneMobileDynamicParams(a,t),s+=b({dcn:r,pos:o,dynamicParams:n})),s},buildOneMobileBaseUrl:function(e){return this.applyProtocol(h({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat(y,":").concat(e):"".concat(y,"://").concat(e)},formatMarketplaceDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{},r={};n.bidFloor&&(r.bidfloor=n.bidFloor),d.assign(r,this.formatKeyValues(n.keyValues)),d.assign(r,this.formatConsentData(i));var o="";return d._each(r,function(e,t){o+="".concat(t,"=").concat(encodeURIComponent(e),";")}),o},formatOneMobileDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};this.isSecureProtocol()&&(n.secure=_),d.assign(n,this.formatConsentData(i));var r="";return d._each(n,function(e,t){r+="&".concat(t,"=").concat(encodeURIComponent(e))}),r},buildOpenRtbRequestData:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(n)&&(d.deepSetValue(i,"regs.ext.gdpr",_),n.gdpr.consentString&&d.deepSetValue(i,"user.ext.consent",n.gdpr.consentString)),n.uspConsent&&d.deepSetValue(i,"regs.ext.us_privacy",n.uspConsent),i},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var n={};return d._each(e,function(e,t){n["kv".concat(t)]=e}),n},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=_,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t,i=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,o=[];return!e||(t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&t.forEach(function(e){var t=e.match(i)[0],n=e.match(r)[2];t&&t&&o.push({type:t===f.TAG?f.TYPE:g.TYPE,url:n})}),o},_parseBidResponse:function(e,t){var n,i;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)i=n.ext.encp;else if(null===(i=n.price)||isNaN(i))return void d.logError("Invalid price in bid response",u.AOL,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:i,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:w,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.exports=e("../shim.js").wrap({spec:z,unitIDKey:"placement",floorKey:"bidFloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],2:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=e("../shim.js").polyfills,f=r.Renderer,w=r.utils,A=r.config,m=(r.registerBidder,r.getIabSubCategory),c=r.BANNER,h=r.NATIVE,u=r.VIDEO,b=r.ADPOD,l=r.auctionManager,S=r.find,I=r.includes,v=r.OUTSTREAM,y=r.INSTREAM,a=r.getStorageManager,s="appnexus",z="https://ib.adnxs.com/ut/v3/prebid",p=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],C=["age","externalUid","segments","gender","dnt","language"],k=["geo","device_id"],j=["enabled","dongle","member_id","debug_timeout"],g={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},_={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},d="<script",R=/\/\/cdn\.adnxs\.com\/v/,T="trk.js",B=a(32,s),E={code:s,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[c,u,h],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var i=e.map(U),n=S(e,q),r={};!0===A.getConfig("coppa")&&(r={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return I(C,e)}).forEach(function(e){var t=w.convertCamelToUnderscore(e);r[t]=n.params.user[e]});var o,a=S(e,L);a&&a.params&&a.params.app&&(o={},Object.keys(a.params.app).filter(function(e){return I(k,e)}).forEach(function(e){return o[e]=a.params.app[e]}));var s,d=S(e,F);d&&d.params&&a.params.app&&a.params.app.id&&(s={appid:d.params.app.id});var c={},u={},l=B.getCookie("apn_prebid_debug")||null;if(l)try{c=JSON.parse(l)}catch(e){w.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var p=S(e,H);p&&p.debug&&(c=p.debug)}c&&c.enabled&&Object.keys(c).filter(function(e){return I(j,e)}).forEach(function(e){u[e]=c[e]});var g,f=S(e,N),m=f?parseInt(f.params.member,10):0,h=e[0].schain,b={tags:x(i),user:r,sdk:{source:"pbjs",version:"4.3.0-pre"},schain:h};0<m&&(b.member_id=m),a&&(b.device=o),d&&(b.app=s),A.getConfig("adpod.brandCategoryExclusion")&&(b.brand_category_uniqueness=!0),u.enabled&&(b.debug=u,w.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(u,null,4))),t&&t.gdprConsent&&(b.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(b.us_privacy=t.uspConsent),t&&t.refererInfo&&(g={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},b.referrer_detection=g),S(e,G)&&e.filter(G).forEach(function(t){var e=function(e,t){var n=t.mediaTypes.video,i=n.durationRangeSec,r=n.requireExactDuration,o=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,i=e.requireExactDuration,r=w.getMinValueFromArray(n),o=Math.floor(t/r);return i?Math.max(o,n.length):o}(t.mediaTypes.video),a=w.getMaxValueFromArray(i),s=e.filter(function(e){return e.uuid===t.bidId}),d=w.fill.apply(w,x(s).concat([o]));{var c,u;r?(c=Math.ceil(o/i.length),u=w.chunk(d,c),i.forEach(function(t,e){u[e].map(function(e){V(e,"minduration",t),V(e,"maxduration",t)})})):d.map(function(e){return V(e,"maxduration",a)})}return d}(i,t),n=b.tags.filter(function(e){return e.uuid!==t.bidId});b.tags=[].concat(x(n),x(e))});var v=[],y=w.deepAccess(e[0],"userId.criteoId");y&&v.push({source:"criteo.com",id:y});var _=w.deepAccess(e[0],"userId.tdid");return _&&v.push({source:"adserver.org",id:_,rti_partner:"TDID"}),v.length&&(b.eids=v),i[0].publisher_id&&(b.publisher_id=i[0].publisher_id),function(e,n){var i=[],r={};!function(e){var t=!0;e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==w.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")));return t}(n)&&(r={withCredentials:!1});{var o,t;15<e.tags.length?(o=w.deepClone(e),w.chunk(e.tags,15).forEach(function(e){o.tags=e;var t=JSON.stringify(o);i.push({method:"POST",url:z,data:t,bidderRequest:n,options:r})})):(t=JSON.stringify(e),i={method:"POST",url:z,data:t,bidderRequest:n,options:r})}return i}(b,t)},interpretResponse:function(e,t){var o=this,a=t.bidderRequest;e=e.body;var n,s=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t,n,i,r=(t=e)&&t.ads&&t.ads.length&&S(t.ads,function(e){return e.rtb});r&&0!==r.cpm&&I(o.supportedMediaTypes,r.ad_type)&&((n=function(t,e,n){var i=w.getBidRequest(t.uuid,[n]),r={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(r.meta=w.assign({},r.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video){var o,a;switch(w.assign(r,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),w.deepAccess(i,"mediaTypes.video.context")){case b:var s=m(i.bidder,e.brand_category_id);r.meta=w.assign({},r.meta,{primaryCatId:s});var d=e.deal_priority;r.video={context:b,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:d},r.vastUrl=e.rtb.video.asset_url;break;case v:r.adResponse=t,r.adResponse.ad=r.adResponse.ads[0],r.adResponse.ad.video=r.adResponse.ad.rtb.video,r.vastXml=e.rtb.video.content,e.renderer_url&&(o=S(n.bids,function(e){return e.bidId===t.uuid}),a=w.deepAccess(o,"renderer.options"),r.renderer=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=f.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{i.setRender(W)}catch(e){w.logWarn("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function(){return w.logMessage("AppNexus outstream video impression event")},loaded:function(){return w.logMessage("AppNexus outstream video loaded event")},ended:function(){w.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),i}(r.adUnitCode,e,a));break;case y:r.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}}else if(e.rtb[h]){var c=e.rtb[h],u=e.viewability.config.replace("src=","data-src="),l=c.javascript_trackers;null==l?l=u:w.isStr(l)?l=[l,u]:l.push(u),r[h]={title:c.title,body:c.desc,body2:c.desc2,cta:c.ctatext,rating:c.rating,sponsoredBy:c.sponsored,privacyLink:c.privacy_link,address:c.address,downloads:c.downloads,likes:c.likes,phone:c.phone,price:c.price,salePrice:c.saleprice,clickUrl:c.link.url,displayUrl:c.displayurl,clickTrackers:c.link.click_trackers,impressionTrackers:c.impression_trackers,javascriptTrackers:l},c.main_img&&(r.native.image={url:c.main_img.url,height:c.main_img.height,width:c.main_img.width}),c.icon&&(r.native.icon={url:c.icon.url,height:c.icon.height,width:c.icon.width})}else{w.assign(r,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var p,g;e.rtb.trackers&&(p=e.rtb.trackers[0].impression_urls[0],g=w.createTrackPixelHtml(p),r.ad+=g)}catch(e){w.logError("Error appending tracking pixel",e)}}return r}(e,r,a)).mediaType=(i=r.ad_type)===u?u:i===h?h:c,s.push(n))}),e.debug&&e.debug.debug_info&&(n=(n="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),w.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),w.logMessage(n)),s;var i="in response for ".concat(a.bidderCode," adapter");return e&&e.error&&(i+=": ".concat(e.error)),w.logError(i),s},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(n,e){return n=w.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:w.transformBidderParamKeywords,publisherId:"number"},n),e&&(n.use_pmt_rule="boolean"==typeof n.usePaymentRule&&n.usePaymentRule,n.usePaymentRule&&delete n.usePaymentRule,D(n.keywords)&&n.keywords.forEach(O),Object.keys(n).forEach(function(e){var t=w.convertCamelToUnderscore(e);t!==e&&(n[t]=n[e],delete n[e])})),n},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(w.isStr(e)&&P(e))t=e;else if(w.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];P(i)&&(t=i)}return t}(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,i=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),r=i.replace("dom_id=%native_dom_id%",n),o=document.getElementsByTagName("iframe"),a=!1,s=0;s<o.length&&!a;s++){var d=o[s];try{var c=d.contentDocument||d.contentWindow.document;if(c)for(var u=c.getElementsByTagName("script"),l=0;l<u.length&&!a;l++){var p=u[l];p.getAttribute("data-src")==i&&(p.setAttribute("src",r),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),a=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function D(e){return w.isArray(e)&&0<e.length}function O(e){D(e.value)&&""===e.value[0]&&delete e.value}function P(e){var t=e.match(R),n=null!=t&&1<=t.length,i=e.match(T),r=null!=i&&1<=i.length;return e.startsWith(d)&&r&&n}function U(n){var e,t,r,o,i={};i.sizes=M(n.sizes),i.primary_size=i.sizes[0],i.ad_types=[],i.uuid=n.bidId,n.params.placementId?i.id=parseInt(n.params.placementId,10):i.code=n.params.invCode,i.allow_smaller_sizes=n.params.allowSmallerSizes||!1,i.use_pmt_rule=n.params.usePaymentRule||!1,i.prebid=!0,i.disable_psa=!0,n.params.reserve&&(i.reserve=n.params.reserve),n.params.position&&(i.position={above:1,below:2}[n.params.position]||0),n.params.trafficSourceCode&&(i.traffic_source_code=n.params.trafficSourceCode),n.params.privateSizes&&(i.private_sizes=M(n.params.privateSizes)),n.params.supplyType&&(i.supply_type=n.params.supplyType),n.params.pubClick&&(i.pubclick=n.params.pubClick),n.params.extInvCode&&(i.ext_inv_code=n.params.extInvCode),n.params.publisherId&&(i.publisher_id=parseInt(n.params.publisherId,10)),n.params.externalImpId&&(i.external_imp_id=n.params.externalImpId),w.isEmpty(n.params.keywords)||(0<(e=w.transformBidderParamKeywords(n.params.keywords)).length&&e.forEach(O),i.keywords=e),n.mediaType!==h&&!w.deepAccess(n,"mediaTypes.".concat(h))||(i.ad_types.push(h),0===i.sizes.length&&(i.sizes=M([1,1])),n.nativeParams&&(r=n.nativeParams,o={},Object.keys(r).forEach(function(e){var t,n=_[e]&&_[e].serverName||_[e]||e,i=_[e]&&_[e].requiredParams;o[n]=w.assign({},i,r[e]),n!==_.image.serverName&&n!==_.icon.serverName||!o[n].sizes||(t=o[n].sizes,(w.isArrayOfNums(t)||w.isArray(t)&&0<t.length&&t.every(function(e){return w.isArrayOfNums(e)}))&&(o[n].sizes=M(o[n].sizes))),n===_.privacyLink&&(o.privacy_supported=!0)}),t=o,i[h]={layouts:[t]}));var a=w.deepAccess(n,"mediaTypes.".concat(u)),s=w.deepAccess(n,"mediaTypes.video.context");i.hb_source=a&&"adpod"===s?7:1,n.mediaType!==u&&!a||i.ad_types.push(u),(n.mediaType===u||a&&"outstream"!==s)&&(i.require_asset_url=!0),n.params.video&&(i.video={},Object.keys(n.params.video).filter(function(e){return I(p,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=n.params.video[e],t=w.isArray(t)?t[0]:t;i.video[e]=g[e][t];break;default:i.video[e]=n.params.video[e]}})),n.renderer&&(i.video=w.assign({},i.video,{custom_renderer_present:!0}));var d=S(l.getAdUnits(),function(e){return n.transactionId===e.transactionId});return d&&d.mediaTypes&&d.mediaTypes.banner&&i.ad_types.push(c),0===i.ad_types.length&&delete i.ad_types,i}function M(e){var t=[],n={};if(w.isArray(e)&&2===e.length&&!w.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===o(e))for(var i=0;i<e.length;i++){var r=e[i];(n={}).width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t}function q(e){return!!e.params.user}function N(e){return!!parseInt(e.params.member,10)}function L(e){if(e.params)return!!e.params.app}function F(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function H(e){return!!e.debug}function G(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===b}function V(e,t,n){w.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function W(e){var t,n;t=e.adUnitCode,(n=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&n[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}t.exports=e("../shim.js").wrap({spec:E,unitIDKey:"placementId",floorKey:"reserve",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],3:[function(e,t,n){"use strict";function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=e("../shim.js").polyfills,z=i.utils,C=i.BANNER,k=i.VIDEO,y=i.config,f=i.find,r=i.isInteger,o=(i.registerBidder,[C,k]),m=100,h=300,b=3600,_=!0,x={JPY:1};function j(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function a(e){return Array.isArray(e)&&2===e.length&&r(e[0])&&r(e[1])}function R(e,t){if(a(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return 1}function T(e,t,n,i){var r=[],o={},a=e[0].userId;if(a&&"object"===v(a)&&a.idl_env&&function(e,t,n,i,r,o){if(n)return t[r]=1,e.push({source:i,uids:[{id:n,ext:{rtiPartner:o}}]});z.logWarn("Tried to add a user ID from Prebid, the ID received was null")}(r,o,a.idl_env,"liveramp.com","LiveRampIp","idl"),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var s,d=window.headertag.getIdentityInfo();if(d&&"object"===v(d))for(var c in d){d.hasOwnProperty(c)&&(o.hasOwnProperty(c)||!(s=d[c]).responsePending&&s.data&&"object"===v(s.data)&&Object.keys(s.data).length&&r.push(s.data))}}var u,l={};l.id=e[0].bidderRequestId,l.imp=n,l.site={},l.ext={},l.ext.source="prebid",e[0].schain&&(l.source={ext:{schain:e[0].schain}}),0<r.length&&(l.user={},l.user.eids=r),document.referrer&&""!==document.referrer&&(l.site.ref=document.referrer),t&&(t.gdprConsent&&((u=t.gdprConsent).hasOwnProperty("gdprApplies")&&(l.regs={ext:{gdpr:u.gdprApplies?1:0}}),u.hasOwnProperty("consentString")&&(l.user=l.user||{},l.user.ext={consent:u.consentString||""})),t.uspConsent&&z.deepSetValue(l,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(l.site.page=t.refererInfo.referer));var p={},g=t&&t.bidderCode||"ix",f=y.getConfig(g);if(f){if("object"===v(f.firstPartyData)){var m=f.firstPartyData,h="?";for(var b in m)m.hasOwnProperty(b)&&(h+="".concat(encodeURIComponent(b),"=").concat(encodeURIComponent(m[b]),"&"));h=h.slice(0,-1),l.site.page+=h}"number"==typeof f.timeout&&(p.t=f.timeout)}return p.s=e[0].params.siteId,p.v=i,p.r=JSON.stringify(l),p.ac="j",p.sd=1,8.1===i&&(p.nf=1),{method:"GET",url:"https://htlb.casalemedia.com/cygnus",data:p}}function B(e,t){for(var n=0;n<e.length;n++)if(t[0]==e[n][0]&&t[1]==e[n][1])return e.splice(n,1),1}var s={code:"ix",gvlid:10,supportedMediaTypes:o,isBidRequestValid:function(e){if(!a(e.params.size))return z.logError("ix bidder params: bid size has invalid format."),!1;if(!R(e.sizes,e.params.size))return z.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!z.contains(o,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!z.deepAccess(e,"mediaTypes.banner.sizes")&&!z.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return z.logError("ix bidder params: siteId must be string or number value."),!1;var t,n,i=e.params.hasOwnProperty("bidFloor"),r=e.params.hasOwnProperty("bidFloorCur");return!!(!i&&!r||i&&r&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/))))||(z.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,i,r,o,a,s,d,c,u,l,p,g,f,m=[],h=[],b=[],v=null,y={},_=0;_<e.length;_++){(v=e[_]).mediaType!==k&&!z.deepAccess(v,"mediaTypes.video")||(v.mediaType===k||R(v.mediaTypes.video.playerSize,v.params.size)?b.push(function(e){var t=j(e);t.video=z.deepClone(e.params.video),t.video.w=e.params.size[0],t.video.h=e.params.size[1];var n=z.deepAccess(e,"mediaTypes.video.context");return n&&("instream"===n?t.video.placement=1:"outstream"===n?t.video.placement=4:z.logWarn("ix bidder params: video context '".concat(n,"' is not supported"))),t}(v)):z.logError("Bid size is not included in video playerSize")),v.mediaType!==C&&!z.deepAccess(v,"mediaTypes.banner")&&(v.mediaType||v.mediaTypes)||(l=void 0,(l=j(u=v)).banner={},l.banner.w=u.params.size[0],l.banner.h=u.params.size[1],l.banner.topframe=z.inIframe()?0:1,n=l,h.push(n),r=y,o=n,c=d=s=a=void 0,c=(i=v).transactionId,r.hasOwnProperty(c)?(a=[],r[c].hasOwnProperty("missingSizes")&&(a=r[c].missingSizes),B(a,i.params.size),r[c].missingSizes=a):z.deepAccess(i,"mediaTypes.banner.sizes")&&(B(s=z.deepClone(i.mediaTypes.banner.sizes),i.params.size),d={missingSizes:s,impression:o},r[c]=d))}for(var x in y)if(y.hasOwnProperty(x))for(var w=y[x].missingSizes,A=0;A<w.length;A++){var S=y[x].impression,I=(p=S,g=w[A],f=void 0,(f=z.deepClone(p)).ext.sid="".concat(g[0],"x").concat(g[1]),f.banner.w=g[0],f.banner.h=g[1],f);h.push(I)}return 0<h.length&&m.push(T(e,t,h,7.2)),0<b.length&&m.push(T(e,t,b,8.1)),m},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var i,r,o,a,s=e.body,d=s.seatbid,c=0;c<d.length;c++)if(d[c].hasOwnProperty("bid"))for(var u=d[c].bid,l=JSON.parse(t.data.r),p=0;p<u.length;p++){var g=function(t,e){if(t)return f(e,function(e){return e.id===t})}(u[p].impid,l.imp);i=u[p],r=s.cur,o=g,a=void 0,a={},x.hasOwnProperty(r)?a.cpm=i.price/x[r]:a.cpm=i.price/m,a.requestId=i.impid,a.dealId=z.deepAccess(i,"ext.dealid"),a.netRevenue=_,a.currency=r,a.creativeId=i.hasOwnProperty("crid")?i.crid:"-",z.deepAccess(i,"ext.vasturl")?(a.vastUrl=i.ext.vasturl,a.width=o.video.w,a.height=o.video.h,a.mediaType=k,a.ttl=b):(a.ad=i.adm,a.width=i.w,a.height=i.h,a.mediaType=C,a.ttl=h),a.meta={},a.meta.networkId=z.deepAccess(i,"ext.dspid"),a.meta.brandId=z.deepAccess(i,"ext.advbrandid"),a.meta.brandName=z.deepAccess(i,"ext.advbrand"),i.adomain&&0<i.adomain.length&&(a.meta.advertiserDomains=i.adomain),n.push(a)}return n},transformBidParams:function(e){return z.convertTypes({siteID:"number"},e)},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};t.exports=e("../shim.js").wrap({spec:s,unitIDKey:"siteId",floorKey:"bidFloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],4:[function(e,t,n){"use strict";var i=e("../shim.js").polyfills,l=(i.registerBidder,i.utils),u=i.config,r=i.BANNER,o=i.NATIVE,a=i.VIDEO,s=i.getRefererInfo,p="medianet",g={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},d="client_timeout",c="client_bid_won",f=s(),m={};function h(e){var t={domain:(e=e||{}).domain||m.urlData.domain,page:e.page||m.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||m.urlData.isTop};return l.assign(t,function(){if(m.pageMeta)return m.pageMeta;var e=b('link[rel="canonical"]',"href"),t=b('meta[property="og:url"]',"content"),n=b('meta[name="twitter:url"]',"content");return m.pageMeta=l.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),m.pageMeta}())}function b(e,t){var n,i,r=function(e,t){try{var n=l.getWindowTop().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return r&&(n=r,(i=l.getWindowTop().document.createElement("a")).href=n,i.href)}function v(e,t){return e.filter(function(e){return e.type===t})}function y(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function _(e){var t,n={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},i=l.deepAccess(e,"mediaTypes.banner.sizes")||[],r=l.deepAccess(e,"mediaTypes.video")||{},o=l.deepAccess(e,"params.video")||{},a=l.assign({},o,r);if(l.isEmpty(a)||(n.video=a),0<i.length&&(n.banner=(t=i,l.isArray(t)&&2===t.length&&!l.isArray(t[0])?[y(t)]:t.map(y))),e.nativeParams)try{n.native=JSON.stringify(e.nativeParams)}catch(e){l.logError("".concat(p," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(n.tagid=e.params.crid.toString());var s=parseFloat(e.params.bidfloor);s&&(n.bidfloor=s);var d,c,u=function(e){var t=document.getElementById(e);if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),i={};return i.top_left={y:n.top,x:n.left},i.bottom_right={y:n.bottom,x:n.right},i}return null}(e.adUnitCode);return u&&n.banner&&0!==n.banner.length?(d={top_left:{x:(c=u).top_left.x+window.pageXOffset,y:c.top_left.y+window.pageYOffset},bottom_right:{x:c.bottom_right.x+window.pageXOffset,y:c.bottom_right.y+window.pageYOffset}},n.ext.coordinates=d,n.ext.viewability=w(u.top_left,x(n.banner)),.5<w(d.top_left,x(n.banner))?n.ext.visibility=g.ABOVE_THE_FOLD:n.ext.visibility=g.BELOW_THE_FOLD):n.ext.visibility=g.NOT_DETERMINED,n}function x(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function w(e,t){var n=t.w*t.h,i=I.getWindowSize(),r={x:e.x+t.w,y:e.y+t.h};return 0==n||-1===i.w||-1===i.h?0:function(e,t,n,i){if(e.x>i.x||t.x<n.x||e.y>i.y||t.y<n.y)return 0;return(Math.min(t.x,i.x)-Math.max(e.x,n.x))*(Math.min(t.y,i.y)-Math.max(e.y,n.y))}(e,r,{x:0,y:0},{x:i.w,y:i.h})/n}function A(e,t){return{site:h(e[0].params.site),ext:(n=e[0].params,i=t.gdprConsent,r=t.uspConsent,o=e[0].userId,a=I.getWindowSize(),s=!(!i||!i.gdprApplies),d=!!r,c=!!u.getConfig("coppa"),l.assign({},{customer_id:n.cid},{prebid_version:AdBridg.globals.version},{gdpr_applies:s},s&&{gdpr_consent_string:i.consentString||""},{usp_applies:d},d&&{usp_consent_string:r||""},{coppa_applies:c},-1!==a.w&&-1!==a.h&&{screen:a},o&&{user_id:o},AdBridg.globals.medianetGlobals.analyticsEnabled&&{analytics:!0})),id:e[0].auctionId,imp:e.map(_),tmax:t.timeout||u.getConfig("bidderTimeout")};var n,i,r,o,a,s,d,c}function S(e,t){var n={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=l.isArray(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=l.deepAccess(t,"0.auctionId")||"",n.cid=AdBridg.globals.medianetGlobals.cid||"",n.crid=t.map(function(e){return l.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),n.adunit_count=t.length||0,n.dn=m.urlData.domain||"",n.requrl=m.urlData.page||"",n.istop=m.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}(e,t)};l.triggerPixel(l.buildUrl(n))}m.urlData={domain:l.parseUrl(f.referer).hostname,page:f.referer,isTop:f.reachedTop},AdBridg.globals.medianetGlobals=AdBridg.globals.medianetGlobals||{};var I={code:p,gvlid:142,supportedMediaTypes:[r,o,a],isBidRequestValid:function(e){return e.params?e.params.cid&&l.isStr(e.params.cid)&&!l.isEmptyStr(e.params.cid)?(l.assign(AdBridg.globals.medianetGlobals,!AdBridg.globals.medianetGlobals.cid&&{cid:e.params.cid}),!0):(l.logError("".concat(p," : cid should be a string")),!1):(l.logError("".concat(p," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n,i=A(e,t);return{method:"POST",url:(n=i.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(i)}},interpretResponse:function(e){var t=[];if(!e||!e.body)return l.logInfo("".concat(p," : response is empty")),t;var n=e.body.bidList;return l.isArray(n)&&0!==n.length?t=n.filter(function(e){return!1===(t=e).no_bid&&0<parseFloat(t.cpm);var t}):(l.logInfo("".concat(p," : no bids")),t)},getUserSyncs:function(e,t){var n,i=(n=t,!l.isEmpty(n)&&n[0].body&&n[0].body.ext&&l.isArray(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);return e.iframeEnabled?v(i,"iframe"):e.pixelEnabled?v(i,"image"):void 0},onTimeout:function(e){try{S({name:d,value:e.length,related_data:e[0].timeout||u.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{S({name:c,value:e.cpm},[e])}catch(e){}},clearMnData:function(){m={}},getWindowSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}}};t.exports=e("../shim.js").wrap({spec:I,unitIDKey:"crid",floorKey:"bidfloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],5:[function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=e("../shim.js").polyfills,d=r.config,c=(r.registerBidder,r.utils),u=r.BANNER,s=r.VIDEO,l="hb_pb",p="3.0.3",g="USD",f={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},o={code:"openx",gvlid:69,supportedMediaTypes:[u,s],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return c.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<c.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,i){if(0===e.length)return[];var r=[],t=a(e.reduce(function(e,t){var n;return n=t,c.deepAccess(n,"mediaTypes.video")&&!c.deepAccess(n,"mediaTypes.banner")||n.mediaType===s?e[0].push(t):e[1].push(t),e},[[],[]]),2),n=t[0],o=t[1];return 0<o.length&&r.push(function(e,t){var i=[],r=!1,n=m(e,t),o=c._map(e,function(e){return e.params.unit});n.aus=c._map(e,function(e){return c.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),n.divIds=c._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),o.some(function(e){return e})&&(n.auid=o.join(","));e.some(function(e){return e.params.doNotTrack})&&(n.ns=1);!0!==d.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(n.tfcd=1);e.forEach(function(t){var e,n;t.params.customParams?(e=c._map(Object.keys(t.params.customParams),function(e){return function(e,t){var n=t[e];c.isArray(n)&&(n=n.join(","));return(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(e,t.params.customParams)}),n=window.btoa(e.join("&")),r=!0,i.push(n)):i.push("")}),r&&(n.tps=i.join(","));var a=[],s=!1;e.forEach(function(e){var t=function(e,t){var n={},i=d.getConfig("currency.adServerCurrency")||g;"function"==typeof e.getFloor&&(n=e.getFloor({currency:i,mediaType:t,size:"*"}));var r=n.floor||e.params.customFloor||0;return Math.round(1e3*r)}(e,u);t?(a.push(t),s=!0):a.push(0)}),s&&(n.aumfs=a.join(","));return{method:"GET",url:n.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:n,payload:{bids:e,startTime:new Date}}}(o,i)),0<n.length&&n.forEach(function(e){var t,n;r.push({method:"GET",url:(n=function(e,t){var n,i,r=m([e],t),o=c.deepAccess(e,"params.video")||{},a=c.deepAccess(e,"mediaTypes.video.context"),s=c.deepAccess(e,"mediaTypes.video.playerSize");c.isArray(e.sizes)&&2===e.sizes.length&&!c.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),i=parseInt(e.sizes[1],10)):c.isArray(e.sizes)&&c.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),i=parseInt(e.sizes[0][1],10)):c.isArray(s)&&2===s.length&&(n=parseInt(s[0],10),i=parseInt(s[1],10));Object.keys(o).forEach(function(e){"openrtb"===e?(o[e].w=n||o[e].w,o[e].v=i||o[e].v,r[e]=JSON.stringify(o[e])):e in r||"url"===e||(r[e]=o[e])}),r.auid=e.params.unit,r.vwd=n||o.vwd,r.vht=i||o.vht,"outstream"===a&&(r.vos="101");o.mimes&&(r.vmimes=o.mimes);e.params.test&&(r.vtest=1);return r}(t=e,i)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:t,startTime:new Date}})}),r},interpretResponse:function(e,t){var n=e.body;return((/avjp$/.test(t.url)?s:u)===s?function(e,t){var n=t.bid,i=(t.startTime,[]);{var r,o;void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(r=c.parseUrl(e.vastUrl).search||{},(o={}).requestId=n.bidId,o.ttl=300,o.netRevenue=!0,o.currency=e.currency,o.cpm=parseInt(e.pub_rev,10)/1e3,o.width=parseInt(e.width,10),o.height=parseInt(e.height,10),o.creativeId=e.adid,o.vastUrl=e.vastUrl,o.mediaType=s,e.ph=r.ph,e.colo=r.colo,e.ts=r.ts,i.push(o))}return i}:function(e,t){for(var n=t.bids,i=(t.startTime,e.ads.ad),r=[],o=0;o<i.length;o++){var a,s=i[o],d=parseInt(s.idx,10),c={};c.requestId=n[d].bidId,s.pub_rev&&(c.cpm=Number(s.pub_rev)/1e3,(a=s.creative[0])&&(c.width=a.width,c.height=a.height),c.creativeId=a.id,c.ad=s.html,s.deal_id&&(c.dealId=s.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=s.currency,s.tbd&&(c.tbd=s.tbd),c.ts=s.ts,c.meta={},s.brand_id&&(c.meta.brandId=s.brand_id),s.adv_id&&(c.meta.dspid=s.adv_id),r.push(c))}return r})(n,t.payload)},getUserSyncs:function(e,t,n,i){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:c.deepAccess(t,"0.body.ads.pixels")||c.deepAccess(t,"0.body.pixels")||function(e,t){var n=[];e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&n.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):"")}(n,i)}]},transformBidParams:function(e){return c.convertTypes({unit:"string",customFloor:"number"},e)}};function m(e,t){var n,i,r,o,a=c.inIframe(),s={ju:d.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:a,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,n,i,r=window,o=document,a=o.documentElement;if(e){try{r=window.top,o=window.top.document}catch(e){return}a=o.documentElement,i=o.body,t=r.innerWidth||a.clientWidth||i.clientWidth,n=r.innerHeight||a.clientHeight||i.clientHeight}else a=o.documentElement,t=r.innerWidth||a.clientWidth,n=r.innerHeight||a.clientHeight;return"".concat(t,"x").concat(n)}(a),be:1,bc:e[0].params.bc||"".concat(l,"_").concat(p),dddid:c._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(s.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(n=t.gdprConsent).consentString&&(s.gdpr_consent=n.consentString),void 0!==n.gdprApplies&&(s.gdpr=n.gdprApplies?1:0),"iab"===d.getConfig("consentManagement.cmpApi")&&(s.x_gdpr_f=1)),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),c.deepAccess(e[0],"crumbs.pubcid")&&c.deepSetValue(e[0],"userId.pubcid",c.deepAccess(e[0],"crumbs.pubcid")),i=s,r=e[0].userId,c._each(r,function(e,t){var n=f[t];if(f.hasOwnProperty(t))switch(t){case"digitrustid":i[n]=c.deepAccess(e,"data.id");break;case"lipb":i[n]=e.lipbid;break;case"parrableId":i[n]=e.eid;break;default:i[n]=e}}),s=i,e[0].schain&&(s.schain=(o=e[0].schain,"".concat(o.ver,",").concat(o.complete,"!").concat(function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return t[e]||""}).join(",")}).join("!")}(o.nodes)))),s}t.exports=e("../shim.js").wrap({spec:o,unitIDKey:"unit",floorKey:"customFloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],6:[function(e,t,n){"use strict";function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,v=r.utils,y=(r.registerBidder,r.config),o=r.BANNER,_=r.VIDEO,a="https://fastlane.rubiconproject.com/a/api/fastlane.json",d={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}},u={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};v._each(u,function(e,t){return u[e]=t});var x={code:"rubicon",gvlid:52,supportedMediaTypes:[o,_],isBidRequestValid:function(e){if("object"!==b(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return v.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i,r,o,a,s,d=l(e,!0);return!!d&&("video"!==d||(i=e,r=!0,o=Object.prototype.toString.call([]),a=Object.prototype.toString.call(0),s={mimes:o,protocols:o,maxduration:a,linearity:a,api:o},Object.keys(s).forEach(function(e){Object.prototype.toString.call(v.deepAccess(i,"mediaTypes.video."+e))!==s[e]&&(r=!1,v.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+s[e]))}),r))},buildRequests:function(e,f){var r,t=e.filter(function(e){return"video"===l(e)}).map(function(e){e.startTime=(new Date).getTime();var t,n,i,r,o,a={id:e.transactionId,test:y.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:y.getConfig("TTL")||1e3,imp:[{exp:300,id:e.adUnitCode,secure:1,ext:m({},e.bidder,e.params),video:v.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(t=y).getConfig("customPriceBucket")&&t.getConfig("customPriceBucket").buckets}[t.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:y.getConfig("rubicon.int_type")||"pbjs"}}}}};"rubicon"!==e.bidder&&(a.ext.prebid.aliases=m({},e.bidder,"rubicon")),i="function"!=typeof e.getFloor||y.getConfig("rubicon.disableFloors")?parseFloat(v.deepAccess(e,"params.floor")):"object"!==b(n=e.getFloor({currency:"USD",mediaType:"video",size:S(e,"video")}))||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:parseFloat(n.floor),isNaN(i)||(a.imp[0].bidfloor=i),a.imp[0].ext[e.bidder].video.size_id=(r=e,o=parseInt(v.deepAccess(r,"params.video.size_id")),isNaN(o)?"outstream"===v.deepAccess(r,"mediaTypes.".concat(_,".context"))?203:201:o),function(t,n,e){if(!t)return;"object"===b(y.getConfig("app"))?t.app=y.getConfig("app"):t.site={page:A(n,e)};"object"===b(y.getConfig("device"))&&(t.device=y.getConfig("device"));n.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=v.assign({language:n.params.video.language},t[e].content))})}(a,e,f),function(e,t){"object"===b(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip);"object"===b(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay);"object"===b(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=S(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(a,e);var s,d=w(e,"PREBID_SERVER");d&&v.deepSetValue(a,"user.ext.digitrust",d),f.gdprConsent&&("boolean"==typeof f.gdprConsent.gdprApplies&&(s=f.gdprConsent.gdprApplies?1:0),v.deepSetValue(a,"regs.ext.gdpr",s),v.deepSetValue(a,"user.ext.consent",f.gdprConsent.consentString)),f.uspConsent&&v.deepSetValue(a,"regs.ext.us_privacy",f.uspConsent),e.userId&&"object"===b(e.userId)&&(e.userId.tdid||e.userId.pubcid||e.userId.lipb||e.userId.idl_env)&&(v.deepSetValue(a,"user.ext.eids",[]),e.userId.tdid&&a.user.ext.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]}),e.userId.pubcid&&a.user.ext.eids.push({source:"pubcommon",uids:[{id:e.userId.pubcid}]}),e.userId.lipb&&e.userId.lipb.lipbid&&(a.user.ext.eids.push({source:"liveintent.com",uids:[{id:e.userId.lipb.lipbid}]}),a.user.ext.tpid={source:"liveintent.com",uid:e.userId.lipb.lipbid},Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&v.deepSetValue(a,"rp.target.LIseg",e.userId.lipb.segments)),e.userId.idl_env&&a.user.ext.eids.push({source:"liveramp.com",uids:[{id:e.userId.idl_env}]})),!0===y.getConfig("coppa")&&v.deepSetValue(a,"regs.coppa",1),e.schain&&I(e.schain)&&v.deepSetValue(a,"source.ext.schain",e.schain);var c,u=v.assign({},e.params.inventory,y.getConfig("fpd.context")),l=v.assign({},e.params.visitor,y.getConfig("fpd.user"));v.isEmpty(u)&&v.isEmpty(l)||(c={bidders:[f.bidderCode],config:{fpd:{}}},v.isEmpty(u)||(c.config.fpd.site=u),v.isEmpty(l)||(c.config.fpd.user=l),v.deepSetValue(a,"ext.prebid.bidderconfig.0",c));var p=v.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof p&&p&&v.deepSetValue(a.imp[0].ext,"context.data.pbadslot",p);var g=v.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof g&&g&&v.deepSetValue(a.imp[0].ext,"context.data.adslot",g),e.storedAuctionResponse&&v.deepSetValue(a.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),v.deepSetValue(a.imp[0],"ext.prebid.auctiontimestamp",f.auctionStart),{method:"POST",url:"https://prebid-server.rubiconproject.com/openrtb2/auction",data:a,bidRequest:e}});return!0!==y.getConfig("rubicon.singleRequest")?t.concat(e.filter(function(e){return"banner"===l(e)}).map(function(e){var i=x.createSlotParams(e,f);return{method:"GET",url:a,data:x.getOrderedParams(i).reduce(function(e,t){var n=i[t];return v.isStr(n)&&""!==n||v.isNumber(n)?"".concat(e).concat(c(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(r=e.filter(function(e){return"banner"===l(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(r).reduce(function(t,e){var n,i;return n=r[e],i=10,n.map(function(e,t){return t%i==0?n.slice(t,t+i):null}).filter(function(e){return e}).forEach(function(e){var i=x.combineSlotUrlParams(e.map(function(e){return x.createSlotParams(e,f)}));t.push({method:"GET",url:a,data:x.getOrderedParams(i).reduce(function(e,t){var n=i[t];return v.isStr(n)&&""!==n||v.isNumber(n)?"".concat(e).concat(c(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","dt.id","dt.keyv","dt.pref","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(function(e){return-1===i.indexOf(e)}))},combineSlotUrlParams:function(r){if(1===r.length)return r[0];var i=r.reduce(function(t,n,i){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(r.length)),t[e].splice(i,1,n[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(i).forEach(function(e){var t=i[e].join(";"),n=t.match(o);i[e]=n?n[1]:t}),i},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n,i=e.params,r=S(e,"banner"),o=h(i.latLong||[],2),a=o[0],s=o[1],d=y.getConfig("rubicon.int_type"),c={account_id:i.accountId,site_id:i.siteId,zone_id:i.zoneId,size_id:r[0],alt_size_ids:r.slice(1).join(",")||void 0,rp_floor:.01<(i.floor=parseFloat(i.floor))?i.floor:.01,rp_secure:"1",tk_flint:"".concat(d||"pbjs_lite","_v4.3.0-pre"),"x_source.tid":e.transactionId,"x_source.pchain":i.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:i.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:A(e,t)};"function"!=typeof e.getFloor||y.getConfig("rubicon.disableFloors")||(n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"}),c.rp_hard_floor="object"!==b(n)||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:n.floor),c.p_pos="atf"===i.position||"btf"===i.position?i.position:"",e.userId&&(e.userId.tdid&&(c.tpid_tdid=e.userId.tdid),e.userId.lipb&&e.userId.lipb.lipbid&&(c["tpid_liveintent.com"]=e.userId.lipb.lipbid,Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&(c["tg_v.LIseg"]=e.userId.lipb.segments.join(","))),e.userId.idl_env&&(c["tpid_liveramp.com"]=e.userId.idl_env)),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(c.gdpr=Number(t.gdprConsent.gdprApplies)),c.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(c.us_privacy=encodeURIComponent(t.uspConsent));var u=v.assign({},i.visitor,y.getConfig("fpd.user"));Object.keys(u).forEach(function(e){null!=u[e]&&"keywords"!==e&&(c["tg_v.".concat(e)]="object"!==b(u[e])||Array.isArray(u[e])?u[e].toString():JSON.stringify(u[e]))});var l=v.assign({},i.inventory,y.getConfig("fpd.context"));Object.keys(l).forEach(function(e){null!=l[e]&&"keywords"!==e&&(c["tg_i.".concat(e)]="object"!==b(l[e])||Array.isArray(l[e])?l[e].toString():JSON.stringify(l[e]))});var p=(i.keywords||[]).concat(v.deepAccess(y.getConfig("fpd.user"),"keywords")||[],v.deepAccess(y.getConfig("fpd.context"),"keywords")||[]);c.kw=Array.isArray(p)&&p.length?p.join(","):"";var g=v.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof g&&g&&(c["tg_i.pbadslot"]=g.replace(/^\/+/,""));var f=v.deepAccess(e,"fpd.context.adServer.adSlot");"string"==typeof f&&f&&(c["tg_i.dfp_ad_unit_code"]=f.replace(/^\/+/,""));var m=w(e,"FASTLANE");return v.assign(c,m),!0===y.getConfig("coppa")&&(c.coppa=1),e.schain&&I(e.schain)&&(c.rp_schain=x.serializeSupplyChain(e.schain)),c},serializeSupplyChain:function(e){if(!I(e))return"";var t=e.ver,n=e.complete,i=e.nodes;return"".concat(t,",").concat(n,"!").concat(x.serializeSupplyChainNodes(i))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(d,e){var c=e.bidRequest;if(!(d=d.body)||"object"!==b(d))return[];if(d.seatbid){var t=v.deepAccess(d,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&v.logWarn("Rubicon: Error in video response");var o=[];return d.seatbid.forEach(function(r){(r.bid||[]).forEach(function(e){var t={requestId:c.bidId,currency:d.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:r.seat,ttl:300,netRevenue:!1!==y.getConfig("rubicon.netRevenue"),width:e.w||v.deepAccess(c,"mediaTypes.video.w")||v.deepAccess(c,"params.video.playerWidth"),height:e.h||v.deepAccess(c,"mediaTypes.video.h")||v.deepAccess(c,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var n,i=v.deepAccess(d,"ext.responsetimemillis.rubicon");c&&i&&(c.serverResponseTimeMs=i),v.deepAccess(e,"ext.prebid.type")===_?(t.mediaType=_,(n=v.deepAccess(e,"ext.prebid.targeting"))&&"object"===b(n)&&(t.adserverTargeting=n),e.ext.prebid.cache&&"object"===b(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):n&&n.hb_uuid&&n.hb_cache_host&&n.hb_cache_path&&(t.videoCacheKey=n.hb_uuid,t.vastUrl="https://".concat(n.hb_cache_host).concat(n.hb_cache_path,"?uuid=").concat(n.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):v.logWarn("Rubicon: video response received non-video media type"),o.push(t)})}),o}var n=d.ads;return"object"!==b(c)||Array.isArray(c)||"video"!==l(c)||"object"!==b(n)||(n=n[c.adUnitCode]),!Array.isArray(n)||n.length<1?[]:n.reduce(function(e,t,n){if("ok"!==t.status)return e;var i,r,o,a,s=Array.isArray(c)?c[n]:c;return s&&"object"===b(s)?(i={requestId:s.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==y.getConfig("rubicon.netRevenue"),rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(i.mediaType=t.creative_type),t.creative_type===_?(i.width=s.params.video.playerWidth,i.height=s.params.video.playerHeight,i.vastUrl=t.creative_depot_url,i.impression_id=t.impression_id,i.videoCacheKey=t.impression_id):(i.ad=(o=t.script,a=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(a,"'>\n<script type='text/javascript'>").concat(o,"<\/script>\n</div>\n</body>\n</html>")),r=h(u[t.size_id].split("x").map(function(e){return Number(e)}),2),i.width=r[0],i.height=r[1]),i.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:s.adUnitCode}),e.push(i)):v.logError("Rubicon: bidRequest undefined at index position:".concat(n),c,d),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,i){if(!p&&e.iframeEnabled){var r="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?r+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):r+="?gdpr_consent=".concat(n.consentString)),i&&(r+="".concat(r?"&":"?","us_privacy=").concat(encodeURIComponent(i))),p=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+r}}},transformBidParams:function(e){return v.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function w(e,t){var n,i=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length?t:void 0;if(!r||!d[r])return null;var o=d[r];var a=function(){var e=v.deepAccess(i,"userId.digitrustid.data");if(e)return e;var t=window.DigiTrust&&(y.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return t&&t.success&&t.identity||null}();if(!a||a.privacy&&a.privacy.optout)return null;var s=(m(n={},o.id,a.id),m(n,o.keyv,a.keyv),n);return o.pref&&(s[o.pref]=0),s}function A(e,t){var n=y.getConfig("pageUrl"),n=e.params.referrer?e.params.referrer:n||t.refererInfo.referer;return e.params.secure?n.replace(/^http:/i,"https:"):n}function S(e,t){var n=e.params;if("video"===t){var i=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?i=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(v.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?i=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(i=e.sizes[0]),i}var r,o=[];return Array.isArray(n.sizes)?o=n.sizes:void 0!==v.deepAccess(e,"mediaTypes.banner.sizes")?o=s(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?o=s(e.sizes):v.logWarn("Rubicon: no sizes are setup or found"),r=[15,2,9],o.sort(function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return-1<n||-1<i?-1===n?1:-1===i?-1:n-i:e-t})}function s(e){return v.parseSizesInput(e).reduce(function(e,t){var n=parseInt(u[t],10);return n&&e.push(n),e},[])}function l(e,t){var n,i=1<arguments.length&&void 0!==t&&t;return n=e,"object"===b(v.deepAccess(n,"params.video"))&&void 0!==v.deepAccess(n,"mediaTypes.".concat(_))?-1===["outstream","instream"].indexOf(v.deepAccess(e,"mediaTypes.".concat(_,".context")))?void(i&&v.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):S(e,"video").length<2?void(i&&v.logError("Rubicon: could not determine the playerSize of the video")):(i&&v.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===S(e,"banner").length?void(i&&v.logError("Rubicon: could not determine the sizes for banner request")):(i&&v.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function I(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e?n.every(function(e){return t[e]}):e},!0))||v.logError("Rubicon: required schain params missing")),t}function c(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var p=!1;t.exports=e("../shim.js").wrap({spec:x,unitIDKey:"zoneId",floorKey:"floor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],7:[function(e,t,n){"use strict";var s="https://bids.adspsp.com/openrtb2/auction",d="https://bids.adspsp.com/cookie_sync",c=e("../ajax.js"),u=e("../utils.js"),i=e("../config.js"),l={159:function(e){return{appnexus:{placementId:parseInt(e.bidder_unit_id,10),reserve:e.min_cpm}}},160:function(e){i.libSettings();return{rubicon:{accountId:parseInt(e.account,10),siteId:parseInt(e.site,10),zoneId:parseInt(e.bidder_unit_id,10),inventory:e.inventory||{},visitor:e.visitor||{}}}}};function p(e){var t=e.split("x");return{w:parseInt(t[0]),h:parseInt(t[1])}}function g(e,t,n){return e!==n[t-1]}function f(e,t){return{method:"POST",url:e,withCredentials:!0,parseResponseJson:!0,data:JSON.stringify(t),contentType:"text/plain"}}var m=[];t.exports=function(e,t,n,r){m.push(e),this.execute=function(i){var o,a,e,t;i.executedS2S||(i.executedS2S=!0,o={bidders:[],gdpr:0|r.gdprApplies,gdpr_consent:r.consentString,limit:2},a={id:u.genUUID(),test:u.qs("adb_s2s_test")?1:0,imp:[],Site:{Publisher:{ID:""}},Source:{TID:i.id}},u.each(m,function(e){i.eachBidRequest(e,function(e,t){var n,i,r=(i=l[(n=t).bidder_id])?i(n):(u.err("S2S no template",n.bidder_id),!1);r&&(a.imp.push({id:t.id,ext:r,banner:{format:t.all_sizes.map(p)}}),o.bidders=o.bidders.concat(Object.keys(r)))})}),u.log("S2S request",a),e=f(s,a),c(e,u.wrapAsync(function(e,t){var n=t&&t.seatbid||[];u.each(n,function(e){u.each(e.bid,function(e){var t=i.getBidRequest(e.impid);e.price?t.unit.addBid(t,{creative:e.adm,cpm:e.price,width:e.w,height:e.h,extras:{creativeId:e.crid}}):t.unit.addEmptyBid(t)})}),u.each(m,function(e){i.markBidderEmpty(e)}),e&&u.err("S2S auction error",e)})),o.bidders=o.bidders.sort().filter(g),t=f(d,o),c(t,u.wrapAsync(function(e,t){return e?u.err("S2S sync error",e):void(t&&t.bidder_status&&t.bidder_status.length&&u.each(t.bidder_status,function(e){u.log("S2S register sync",e.bidder,e.usersync.url),u.uspf(e.bidder,e.usersync.url)}))})))}}},{"../ajax.js":10,"../config.js":13,"../utils.js":27}],8:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=e("../shim.js").polyfills,s=r.BANNER,d=(r.registerBidder,r.utils),c=r.config,u=!0,l=null,p={code:"triplelift",supportedMediaTypes:[s],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n,i="https://tlx.3lift.com/header/auction?",r=function(e){var t={},n=e[0].schain;t.imp=e.map(function(e,t){return{id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;{var n;"function"==typeof e.getFloor&&("object"!==o(n=e.getFloor({currency:"USD",mediaType:"banner",size:f(e.sizes)}))||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor)))}return null!==t?t:e.params.floor}(e),banner:{format:f(e.sizes)}}});var i=[].concat(a(function(e){return g(e,"tdid","adserver.org","TDID")}(e)),a(function(e){return g(e,"idl_env","liveramp.com","idl")}(e)),a(function(e){return g(e,"criteoId","criteo.com","criteoId")}(e)));0<i.length&&(t.user={ext:{eids:i}});n&&(t.ext={schain:n});return t}(e);return i=d.tryAppendQueryString(i,"lib","prebid"),i=d.tryAppendQueryString(i,"v","4.3.0-pre"),t&&t.refererInfo&&(n=t.refererInfo.referer,i=d.tryAppendQueryString(i,"referrer",n)),t&&t.timeout&&(i=d.tryAppendQueryString(i,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(u=t.gdprConsent.gdprApplies,i=d.tryAppendQueryString(i,"gdpr",u.toString())),void 0!==t.gdprConsent.consentString&&(l=t.gdprConsent.consentString,i=d.tryAppendQueryString(i,"cmp_cs",l))),t&&t.uspConsent&&(i=d.tryAppendQueryString(i,"us_privacy",t.uspConsent)),!0===c.getConfig("coppa")&&(i=d.tryAppendQueryString(i,"coppa",!0)),i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),d.logMessage("tlCall request built: "+i),{method:"POST",url:i,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var n={},i=t.width||1,r=t.height||1,o=t.deal_id||"",a=t.crid||"";0!=t.cpm&&t.ad&&(n={requestId:e.bids[t.imp_id].bidId,cpm:t.cpm,width:i,height:r,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source});return n}(n,e)})},getUserSyncs:function(e,t,n,i){var r=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(r){var o="https://eb2.3lift.com/sync?";return"image"===r&&(o=d.tryAppendQueryString(o,"px",1),o=d.tryAppendQueryString(o,"src","prebid")),null!==l&&(o=d.tryAppendQueryString(o,"gdpr",u),o=d.tryAppendQueryString(o,"cmp_cs",l)),i&&(o=d.tryAppendQueryString(o,"us_privacy",i)),[{type:r,url:o}]}}};function g(e,t,n,i){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(function(e){return!!e}).map((r=n,o=i,function(e){return{source:r,uids:[{id:e,ext:{rtiPartner:o}}]}}));var r,o,a}function f(e){return e.filter(m).map(function(e){return{w:e[0],h:e[1]}})}function m(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:p,unitIDKey:"inventoryCode",floorKey:"floor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":25}],9:[function(e,t,n){t.exports=e(8)},{"../shim.js":25}],10:[function(e,t,n){var o=e("./utils.js");t.exports=o.wrapAsync(function(n,i){var r,e=!1,t=n.method||(n.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=o.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e){if(n.rawProcessor)try{n.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");i(null,t,r)}catch(e){i({err:e,type:"parse"},"",r)}else i(null,r.responseText,r)}else i(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=o.wrapAsync(function(){if(n.rawProcessor)try{n.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var e=JSON.parse(r.responseText||"null");i(null,e,r)}catch(e){i({err:e,type:"parse"},"",r)}else i(null,r.responseText,r)}),r.onerror=o.wrapAsync(function(e){i({err:e,type:"error"},"",r)}),r.ontimeout=o.wrapAsync(function(e){i({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,n.url),0!==n.max_ms&&(r.timeout=n.max_ms||3e3,o.logl("at","Ajax >",n.url,r.timeout)),e||(n.withCredentials&&(r.withCredentials=!0),o.each(n.headers,function(e,t){r.setRequestHeader(t,e)}),n.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",n.contentType||"text/plain")),r.send("POST"===t&&n.data)})},{"./utils.js":27}],11:[function(e,t,s){function i(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}var f=e("./utils.js"),d=e("./config.js"),m={USD:1,EUR:2},h={banner:1,native:2,video:3},r=i(),o="aX0";s.id=[2,o,r].join(",");var c="";d.afterConsent(function(e,t,n){try{c=(window.__tcfapi?"2":window.__cmp?"1":"0")+(window.__uspapi?"1":"0")+n,e&&(c+=".g"+(e.gdprApplies?"Y":"N")+(e.consentString||"")),t&&(c+=".u"+(t.version||0)+(t.uspString||""))}catch(e){f.err("ClogErr",e)}e&&e.gdprApplies||(o=(o=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+i(),f.cw("_adb",o,365),s.id=[2,o,r].join(","))});function a(e,t,n,i,r){u[e]||(u[e]=[]),u[e].push(r),l[e]=i,p[e]||(p[e]=setTimeout(function(){g(e,t)},n))}var u={},l={},p={},g=function(e,t){var n,i;clearTimeout(p[e]),p[e]=!1,u[e]&&u[e].length&&(n=l[e],i=3===e?"1//"+u[e].length+n:"",i+=u[e].join(n),u[e]=[],y(e,t,i))};s.flushNow=function(){for(var e in u)g(e)};function b(e,t){return _(e)+"`"+_(t)}function v(e){var n=[];return f.each(e,function(e){var t=e.split("x");2==t.length&&n.push(b(t[0],t[1]))}),n.join(".")}var y=function(e,t,n){var i=s.id,r=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),o=f.vp(),a="https://adspsp.com/pt/"+d.getId()+"/"+e+"/"+t+"/?a="+i+"&aa="+c+"&b="+n+"&e="+r+"&c="+encodeURIComponent(f.url().href)+"&d="+encodeURIComponent(f.url().referrer)+"&f="+f.pgts().join(".")+"&g="+f.perfts()+"&u=f0b39a49:kek3ed45&v="+_(o.w)+"."+_(o.h)+"."+_(o.y)+"."+_(document.body.clientHeight),a=d.deca(a);for(f.each(w,function(e,t){f.isarr(e)||(e=[e]),f.each(e,function(e){a+="&"+t+"="+encodeURIComponent(e)})});A.length;)delete w[A.pop()];f.each(S,function(e,t){a+="&"+t+"="+encodeURIComponent(e)}),S={},f.pixel(a,!0)},_=function(e){return(parseInt(e,10)||0).toString(36)},x=function(e){return 61<e?x(e/62|0)+x(e%62):35<e?String.fromCharCode(e+29):9<e?String.fromCharCode(e+87):-1<e?e+"":e<0?"-"+x(-e):"NaN"},w={};s.meta=f.thread(function(e,t){w[e]=t});var A=[];s.metaqx=f.thread(function(e,t){-1==A.indexOf(e)&&A.push(e),w[e]?f.isarr(w[e])||(w[e]=[w[e]]):w[e]=[],w[e].push(t)});var S={};s.ctr=f.thread(function(e,t){void 0===t&&(t=1),t&&(S[e]=(S[e]||0)+t)}),s.auctionConfigured=f.thread(function(e){var n=[];e.eachUnit(function(e){var r=[],t=v(e.all_sizes);e.eachBidReqConf(function(e){var t,n=e.bidder_id+"@"+(t=e.bidder_unit_id,String(t).replace(/[^\d\w-]/,"")),i=v(e.all_sizes);r.push(n+"^"+i)}),n.push(e.id+"^"+t+":"+r.join(","))});var t=e.instancectr+"//"+n.length+"-"+n.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),y(1,1,t)});function I(e,t){var n,i,r=e.fromPool&&e.fromPool!==e.config.unit.unique_id?t.id(e.fromPool):"";r?(n=(f.dts()-e.ts)/1e3,i=0|Math.max(0,e.extras.ttl-n),r+="@"+x(i)):r=x(0|e.ms);var o,a,s,d,c,u,l,p,g=[r];return(e._bid_cpm||e.extras.dealid)&&(o=t.id(e.width+"x"+e.height),a=x(e.extras.ttl),s=m[e.extras.cur]||(e.extras.cur?t.id(e.extras.cur):""),d=e.extras.nr?1:0,c=h[e.extras.mediaType]||0,u=e.extras.crid!==e.config.id?t.id(e.extras.crid):"",l=e.extras.dealid?t.id(e.extras.dealid):"",p=e.cpm,g=g.concat([o,a,s,d,c,u,l,p]),e._bid_cpm!=e.cpm&&(g.push(e._bid_cpm),g.push(e._min_cpm),e.blocked&&g.push(t.id(e.blocked)))),g.join(",")}function z(){this.reset()}z.prototype.reset=function(){this.ids={},this.data=[],this.length=0},z.prototype.id=function(e){var t;return e=String(e),this.ids[e]||(t=encodeURIComponent(e),this.length+=t.length,this.ids[e]=x(this.data.push(t)-1)),this.ids[e]},s.auctionCompleted=f.thread(function(t){var s=new z,n=[],i=0;t.eachUnit(function(o){var e=[s.id(t.instancectr),s.id(t.id),s.id(o.id),s.id(o.unique_id)].join(","),a=[];o.eachBidReqConf(!1,function(e){var r=s.id(e.bidder_id)+","+s.id(e.bidder_unit_id);e.responses.length?f.each(e.responses,function(e){var t=o.getWinner()===e?1:"",n=r,i=I(e,s);i&&(n+=","+t+","+i),a.push(n)}):a.push(r)}),encoded_unit=e+":"+a.join(":"),i+=encoded_unit.length,n.push(encoded_unit),3e3<i+s.length&&(y(11,2,n.join("&b=")+"&bi="+s.data.join(",")),s.reset(),n=[],i=0)}),i&&y(11,2,n.join("&b=")+"&bi="+s.data.join(","))}),s.bidRendered=f.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var n=JSON.stringify(e.extras);"{}"!=n&&t.push(encodeURIComponent(n));var i="1:"+t.join(",");d.libSettings().record_bidids&&(i+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(",")),a(12,1,100,"&b=",i)}),s.enhRendered=f.thread(function(e,t,n){var i=[e,t,_(n.advertiserId),_(n.campaignId),_(n.creativeId),_(n.versionId)];a(12,1,100,"&b=","3:"+i.join(","))}),s.gptRendered=f.thread(function(e,t,n){a(12,1,100,"&b=","2:"+[e.instancectr,t.id,_(n.advertiserId),_(n.campaignId),_(n.creativeId),n.isEmpty||"",_(n.lineItemId),n.size?b(n.size[0],n.size[1]):"",_(n.sourceAgnosticCreativeId),_(n.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=f.thread(function(e,t,n){a(15,1,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=f.thread(function(e){a(16,1,100,"&b=","1:"+JSON.stringify(e))});var C,k,j=new z,R={},T=function(){var e,i,r;clearTimeout(C),C=!1,k?C=setTimeout(T,100):(e=R,R={},k=j,j=new z,i=[],r=0,f.each(e,function(e,t){var n=t+":"+e.join(":");r+=n.length,i.push(n),3e3<r+k.length&&(y(13,2,i.join("&b=")+"&bi="+k.data.join(",")),i=[],r=0)}),r&&y(13,2,i.join("&b=")+"&bi="+k.data.join(",")),k=!1)};s.lateBid=f.thread(function(e){var t=[j.id(e.config.unit.auction.instancectr),j.id(e.config.unit.auction.id),j.id(e.config.unit.id),j.id(e.config.unit.unique_id)].join(","),n=[j.id(e.config.bidder_id),j.id(e.config.bidder_unit_id),"",I(e,j)].join(",");R[t]||(R[t]=[]),R[t].push(n),C=C||setTimeout(T,500)}),f.onerr(function(){try{var t="";f.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+f.perfts()+":"+t,a(3,1,1e3,"&e=",t)}catch(e){f.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=f.thread(function(e){a(17,1,500,"&b=",e)}),f.onrec(s.rec)},{"./config.js":13,"./utils.js":27}],12:[function(e,t,n){var m=e("./utils"),h=(e("./unit"),e("./analytics")),b=e("./modules"),v=e("./config"),y=0;t.exports=function(){var i,r;this.instancectr=++y,this.id=m.genID("A"),this.uuid=m.genUUID(),this.ts=0,this.jsts=0,this.jstsend,this.max_ms,v.afterConsent(function(e,t){i=e,r=t}),this.ajax_ms=v.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var d,o=this,a={},s=[],c=[],u=[],l=!1,p=[],g=!1;this.addUnit=function(e){return c.push(e),u.push(e.alias),e.auction=o,e.eachBidder(function(e,t){!t.uspSupport&&r&&"Y"===r.uspString[2]||a[e]||(a[e]=t,.5<Math.random()?s.push(e):s.unshift(e))}),o.max_ms=o.max_ms?Math.min(o.max_ms,e.max_ms):e.max_ms,(!o.ajax_ms||o.ajax_ms<o.max_ms)&&(o.ajax_ms=o.max_ms+200),o},this.ctUnits=function(){return c.length},this.hasUnit=function(){return 0<c.length},this.eachUnit=function(e){m.each(c,e)},this.findUnit=function(e){for(var t=0;t<c.length;++t){if(e(c[t]))return c[t]}return!1},this.eachBidRequest=function(e,n){"function"==typeof e&&(n=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){n(t,e)})})},this.getUnitByBidReqId=function(t){var n=!1;return o.eachUnit(function(e){e.getBidReqConf(t)&&(n=e)}),n},this.getBidRequest=function(t){var n=!1;return o.eachUnit(function(e){n=n||e.getBidReqConf(t)}),n},this.markBidEmpty=function(e){var t=o.getUnitByBidReqId(e);t?t.addEmptyBid(e):m.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){o.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return l},this.lock=function(e){-1==p.indexOf(e)&&(m.log("Auction ",o.id," locked: ",e),p.push(e))},this.unlock=m.wrapAsync(function(e){var t=p.indexOf(e);-1!=t?(p.splice(t,1),m.log("Auction ",o.id," unlocked: ",e,p),!p.length&&g&&g()):m.log("Auction ",o.id," lock not found: ",e)}),this.execute=function(e){o.ts=m.dts(),o.jsts=(new Date).getTime();var t=v.libSettings().fbo;"function"==typeof t&&(s=t(a)),d="started",b.trigger("auction.before_bids",o),m.log("Auction",o.id,"starting with",c.length,"units:",u,"/ bidders:",s,"/ timeout:",o.max_ms),d="inProgress",h.auctionConfigured(o),b.trigger("auction.start",o);var n=m.wrapAsync(function(){l||(l=!0,b.trigger("auction.bidding_done",o),o.eachUnit(function(e){e.halt()}),d="completed",o.jstsend=(new Date).getTime(),h.auctionCompleted(o),b.trigger("auction.complete",o),e(o))}),i=m.wrapAsync(function(){return p.length?(m.log("Auction ",o.id,"waiting on locks",p),void(g=n)):void n()}),r=0;o.eachUnit(function(e){e.onReady(m.wrapAsync(function(){l||++r>=c.length&&(m.log("Auction ",o.id," received bids for ",r," / ",c.length," units. Duration: ",m.dts()-o.ts,"ms"),i())}))}),m.each(s,function(e){var t=a[e];m.thread(function(){t.execute(o)})()}),setTimeout(function(){l||(m.log("Auction ",o.id," timing out with ",r," / ",c.length," units completed. Duration: ",m.dts()-o.ts,"ms"),i())},o.max_ms)};var t=[],f={};this.getBdrReqId=function(e){return t[e]||(t[e]=m.genID("R")),t[e]},this.toPrebidBidderReq=function(e){var n,t;return f[e]||(a[e],n=[],this.eachBidRequest(e,function(e,t){n.push(t.toPrebid())}),t={referer:m.url().href,stack:[m.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)},f[e]={auctionId:this.uuid,auctionStart:this.jsts,bidderCode:e,bidderRequestId:this.getBdrReqId(e),bids:n,gdprConsent:i,uspConsent:(r||{}).uspString,timeout:this.max_ms,refererInfo:t}),f[e]},this.toPrebidBidderReqs=function(){var n=[];return m.each(a,function(e,t){n.push(this.toPrebidBidderReq(t))}.bind(this)),m.log("Prebid bidder reqs built",n),n},this.toPrebid=function(){var e=this.toPrebidBidderReqs(),i=[],r=[],o=[],a=[],s=[];return this.eachUnit(function(e){var t=e.toPrebidAdUnit();i.push(t),r.push(t.code);var n=e.toPrebidResults();o=o.concat(n.noBids),a=a.concat(n.bidsReceived),s=s.concat(n.winningBids)}.bind(this)),{auctionId:this.uuid,timestamp:this.jsts,auctionEnd:this.jstsend,auctionStatus:d,adUnits:i,adUnitCodes:r,labels:void 0,bidderRequests:e,noBids:o,bidsReceived:a,winningBids:s,timeout:this.max_ms}}}},{"./analytics":11,"./config":13,"./modules":16,"./unit":26,"./utils":27}],13:[function(d,e,t){function c(e,t,n){var i=t.mapping_rules;if(i){var r=e.get("gpt_slot"),o=r.getAdUnitPath(),a=e.get("gpt_sizes"),s=e.get("dom_id"),d=e.get("dom_ad_class");for(var c in i){if(!i.hasOwnProperty(c))return;var u=i[c],l=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==c&&u<l)return;if("vp.min_width"==c&&l<u)return;if("lib"==c.substr(0,3)){var p=n[c.substr(4)];if(("function"==typeof p&&p(r,o,a,s))!=u)return}if("gpt.adunit"==c&&u!=o)return;if("gpt.adunit_regex"==c&&!new RegExp(u,"i").test(o))return;if("gpt.domid"==c&&u!=s)return;if("gpt.domid_regex"==c&&!new RegExp(u,"i").test(s))return;if("gpt.has_size"==c&&!a.match(u))return;if("gpt.no_size"==c&&a.match(u))return;if("adb.ad_class"==c&&u!=d)return;if("adb.ad_class_regex"==c&&!new RegExp(u,"i").test(d))return}return g.log("Unit mapped: ",s,"->",t.alias),1}}function u(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}var g=d("./utils"),l=(d("./ajax"),{c:2418030,s:{track_imps:!0,bid_strategy:".05:.2-.3,.01:.3-1.2,.05:1.2-5.5,.01:5.5-5.7,.05:5.7-6.35,.01:6.35-6.6,.05:6.6-6.85,.01:6.85-7.05,.05:7.05-7.35,.01:7.35-7.55,.05:7.55-9,.1:9-10.5,.5:10.5-21,1:21-35,.25:35-37,1:37-40,.5:40-44,2:44-50",usp:function(){return{image:!0,iframe:!1,delay:3e3}},initfn:function(){var e=document.createElement("script");e.async=!0,e.src="https://js-sec.indexww.com/ht/p/180447-192872210293780.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},cmp:function(e,t){var n=g.wrapAsync(function(){return e.pub.gdprBlockBids?t("pubblock"):t("iab")});e.pub?n():(g.log("CMP check waiting for AdPlumber"),AdBridg.cmd.unshift({events:{"pub.config":n}}))},cmp_check_interval:100,cmp_check_max:20,gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,new_tl_test:function(e){return!g.qs("adb_tl_new_only")&&e},ajax_ms:1100,before_gpt:function(){g.qs("no_sandbox")||(g.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}))},dynamic_configuration:function(e,t,n){var i=t.pub.cc;if(t.pub.sponsorship&&"US"===i)return AdBridg.global("HLSPReported")||(AdBridg.global("HLSPReported",1),g.err("HLSponsorshipPage"),g.log("Healthline page has been reserved for a sponsorship; all bidding is disabled.")),!1;-1<[16,17,18].indexOf(e.id)&&g.vp().w<=989&&(e.other_sizes="");var r=t.pub&&t.pub.k1;r.match(/cancer/)||r.match(/^(chemotherapy|gastroenteritis|heartattack|heartburn|heartfailure|heartprocedures|heartvalvedisorders|hivaids|ms|backpain|psoriasis|eczema)$/)||(e.max_ms=1500);var o=parseInt(g.qs("adb_timeout"),10)||0;return 0<o&&(AdBridg.global("timeoutOverrideMsg")||(g.log("HL override timeout via querystring: ",o),AdBridg.global("timeoutOverrideMsg",1)),e.max_ms=o),e},alter_adb_pixel:function(t){try{g.each(googletag.pubads().getSlots(),function(e){var t=e.getTargetingMap(),n=t.amznbid&&t.amznbid[0]||!1;n&&"1"!=n&&"2"!=n&&AdBridg.global("hl_amzsig",1)})}catch(e){}AdBridg.global("hl_amzsig")&&(t+="&hlaz=1");var n=window.Krux&&Krux.segments;window.Krux&&window.Krux.user&&(t+="&hlku=1"),n&&n.length?(t+="&hlks="+n.length,g.each(["rtfoso4jo","rtdcvdi3p","rt0yso1r8","tbxttakzo","q0kikdez9","q0khyp7j0"],function(e){-1<n.indexOf(e)&&(t+="&hlks="+e)})):t+="&hlks=0";var e=l.s.pub&&l.s.pub.abSegment;return e&&!e.match(/object/i)&&(t+="&hlab="+escape(e)),t},post_auc_ufilter:function(e,t){var n,i,r=e.getWinner();r&&r.cpm&&((i=(n=r.cpm)<5?"":n<10?"b5":"b10")&&e.setImpData("adx",i),18==r.config.bidder_id&&e.setImpData("tl","tl"+(r.config.bidder_unit_id.match("_HDX")?"2":"1")))},nodbkeys:!0},u:{1:[1,"Healthline Desktop_300x250_1","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"604642",{siteId:"127964",position:"atf"},0],[4,"540307314",0,0],[5,"11002902",0,0],[10,"193270",{size:"300x250"},0],[18,"healthline_Desktop_DMR1_MREC_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817317",{size:"300x250"},0],[116,"482160476",0,0],[159,"14857641",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}]]],2:[2,"Healthline Desktop_300x250_2","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"604644",{siteId:"127964"},0],[4,"540307315",0,0],[5,"11002903",0,0],[10,"193271",{size:"300x250"},0],[18,"healthline_Desktop_DMR2_MREC_AB",0,0],[114,"4817332",{size:"300x250"},0],[116,"265177797",0,0],[159,"14857648",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],3:[3,"Healthline Desktop_300x250_3","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"604646",{siteId:"127964"},0],[4,"540307316",0,0],[5,"11002904",0,0],[10,"193272",{size:"300x250"},0],[18,"healthline_Desktop_DMR3_MREC_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817334",{size:"300x250"},0],[116,"157131625",0,0],[159,"14857649",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],4:[4,"Healthline Desktop_300x250_4","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"604648",{siteId:"127964"},0],[4,"540307317",0,0],[5,"11002905",0,0],[10,"193273",{size:"300x250"},0],[18,"healthline_Desktop_DMR4_MREC_AB",0,0],[114,"4817333",{size:"300x250"},0],[116,"171862636",0,0],[159,"14857650",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],5:[5,"Healthline Desktop_300x250_5","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"604650",{siteId:"127964"},0],[4,"540307318",0,0],[5,"11002906",0,0],[10,"193274",{size:"300x250"},0],[18,"healthline_Desktop_DMR5_MREC_AB",0,0],[114,"4817329",{size:"300x250"},0],[116,"662144784",0,0],[159,"14857651",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],6:[6,"Healthline Desktop_300x250_6","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"604652",{siteId:"127964"},0],[4,"540307320",0,0],[5,"11002907",0,0],[10,"193275",{size:"300x250"},0],[18,"healthline_Desktop_DMR6_MREC_AB",0,0],[114,"4817331",{size:"300x250"},0],[116,"753865295",0,0],[159,"14857652",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}]]],7:[7,"Healthline Desktop_300x250_7","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"604654",{siteId:"127964"},0],[4,"540307321",0,0],[5,"11002908",0,0],[10,"193276",{size:"300x250"},0],[18,"healthline_Desktop_DMR7_MREC_AB",0,0],[114,"4817330",{size:"300x250"},0],[116,"661335883",0,0],[159,"14857653",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}]]],8:[8,"Healthline Desktop_300x250_8","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"604656",{siteId:"127964"},0],[4,"540307322",0,0],[5,"11002909",0,0],[10,"193277",{size:"300x250"},0],[18,"healthline_Desktop_DMR8_MREC_AB",0,0],[114,"4817335",{size:"300x250"},0],[116,"537318873",0,0],[159,"14857654",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}]]],9:[9,"Healthline Desktop_300x250_9","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"604658",{siteId:"127964"},0],[4,"540307323",0,0],[5,"11002910",0,0],[10,"193278",{size:"300x250"},0],[18,"healthline_Desktop_DMR9_MREC_AB",0,0],[114,"4817336",{size:"300x250"},0],[116,"787285489",0,0],[159,"14857656",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}]]],10:[10,"Healthline Desktop_300x250_10","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"604660",{siteId:"127964"},0],[4,"540307332",0,0],[5,"11002911",0,0],[10,"193279",{size:"300x250"},0],[18,"healthline_Desktop_DMR10_MREC_AB",0,0],[114,"4817321",{size:"300x250"},0],[116,"136586158",0,0],[159,"14857642",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}]]],11:[11,"Healthline Desktop_300x250_11","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR1|MR11)$"},[[2,"604662",{siteId:"127964"},0],[4,"540307346",0,0],[5,"11002912",0,0],[10,"193280",{size:"300x250"},0],[18,"healthline_Desktop_DMR11_MREC_AB",0,0],[114,"4817318",{size:"300x250"},0],[116,"168330849",0,0],[159,"14857643",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}]]],12:[12,"Healthline Desktop_300x250_12","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR2|MR12)$"},[[2,"604664",{siteId:"127964"},0],[4,"540307347",0,0],[5,"11002913",0,0],[10,"193281",{size:"300x250"},0],[18,"healthline_Desktop_DMR12_MREC_AB",0,0],[114,"4817320",{size:"300x250"},0],[116,"821682258",0,0],[159,"14857644",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}]]],13:[13,"Healthline Desktop_300x250_13","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR3|MR13)$"},[[2,"604666",{siteId:"127964"},0],[4,"540307348",0,0],[5,"11002914",0,0],[10,"193282",{size:"300x250"},0],[18,"healthline_Desktop_DMR13_MREC_AB",0,0],[114,"4817327",{size:"300x250"},0],[116,"678963628",0,0],[159,"14857645",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}]]],14:[14,"Healthline Desktop_300x250_14","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR4|MR14)$"},[[2,"604668",{siteId:"127964"},0],[4,"540307349",0,0],[5,"11002915",0,0],[10,"193283",{size:"300x250"},0],[18,"healthline_Desktop_DMR14_MREC_AB",0,0],[114,"4817326",{size:"300x250"},0],[116,"537717616",0,0],[159,"14857646",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}]]],15:[15,"Healthline Desktop_300x250_15","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR5|MR15)$"},[[2,"604670",{siteId:"127964"},0],[4,"540307351",0,0],[5,"11002916",0,0],[10,"193284",{size:"300x250"},0],[18,"healthline_Desktop_DMR15_MREC_AB",0,0],[114,"4817328",{size:"300x250"},0],[116,"571841601",0,0],[159,"14857647",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}]]],16:[16,"Healthline Desktop_728x90_1","728x90",["970x250","970x90"],.15,700,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"604630",{siteId:"127964",position:"atf"},0],[4,"540307352",0,0],[5,"11002896",0,0],[10,"193264",{size:"728x90"},0],[18,"healthline_Desktop_DLB1_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817322",{size:"728x90"},0],[116,"814147833",0,0],[159,"14857657",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DCMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]],17:[17,"Healthline Desktop_728x90_2","728x90",[],.15,700,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"604632",{siteId:"127964"},0],[4,"540307353",0,0],[5,"11002897",0,0],[10,"193265",{size:"728x90"},0],[18,"healthline_Desktop_DLB2_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817319",{size:"728x90"},0],[116,"275526781",0,0],[159,"14857658",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],18:[18,"Healthline Desktop_728x90_3","728x90",[],.15,700,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"604634",{siteId:"127964"},0],[4,"540307354",0,0],[5,"11002898",0,0],[10,"193266",{size:"728x90"},0],[18,"healthline_Desktop_DLB3_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817316",{size:"728x90"},0],[116,"679392274",0,0],[159,"14857659",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],19:[19,"Healthline Mobile_320x50","320x50",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MLB1$","vp.max_width":767},[[2,"604682",{siteId:"127968"},0],[4,"540307355",0,0],[5,"11002922",0,0],[10,"193290",{size:"320x50"},0],[114,"4817339",{size:"320x50"},0],[116,"917839699",0,0],[159,"14857669",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}]]],20:[20,"Healthline Mobile_300x250_1","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"604684",{siteId:"127968"},0],[4,"540307376",0,0],[5,"11002923",0,0],[10,"193291",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817338",{size:"300x250"},0],[116,"339384118",0,0],[159,"14857664",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],21:[21,"Healthline Mobile_300x250_2","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"604686",{siteId:"127968"},0],[4,"540307377",0,0],[5,"11002924",0,0],[10,"193292",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_2_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817344",{size:"300x250"},0],[116,"189578804",0,0],[159,"14857665",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],22:[22,"Healthline Mobile_300x250_3","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"604688",{siteId:"127968"},0],[4,"540307378",0,0],[5,"11002925",0,0],[10,"193293",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_3_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817342",{size:"300x250"},0],[116,"416732783",0,0],[159,"14857666",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],23:[23,"Healthline Mobile_300x250_4","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"604690",{siteId:"127968"},0],[4,"540307379",0,0],[5,"11002926",0,0],[10,"193294",{size:"300x250"},0],[114,"4817341",{size:"300x250"},0],[116,"579762571",0,0],[159,"14857667",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],24:[24,"Healthline Mobile_300x250_5","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"604692",{siteId:"127968"},0],[4,"540307380",0,0],[5,"11002927",0,0],[10,"193295",{size:"300x250"},0],[114,"4817340",{size:"300x250"},0],[116,"823314966",0,0],[159,"14857668",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]]}}),p={},f={},n={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return g.logl("g","Global read: ",e,n[e]),n[e];n[e]=t,g.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"v4.3.0-pre"},l.s.preconfigure_init&&g.wrapAsync(l.s.preconfigure_init)(l.s),t.getId=function(){return l.c},t.libSettings=function(){return l.s},t.kvp=function(e){var t=l.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},t.proc=function(e){l.s.pub=l.s.pub||{},g.each(e,function(e,t){l.s.pub[t]=e}),g.log("Publisher config update: ",JSON.stringify(l.s.pub)),d("./modules.js").trigger("pub.config",l.s.pub)},t.deca=function(e){if(l.s.alter_adb_pixel)try{e=l.s.alter_adb_pixel(e)}catch(e){g.err("Alter adb fail",e)}return e};t.configureUnit=function(e,t){var n=!1,i=[];for(var r in l.u)if(l.u.hasOwnProperty(r)){var o=u(0,l.u[r]);if(d("./modules.js").trigger("unit.dynamic",o,l.s,e),l.s.dynamic_configuration)try{var a=l.s.dynamic_configuration(o,l.s,e);if("object"!=typeof a&&!1!==a||(o=a),!o)continue}catch(e){g.err("Failed dynamic configuration",e)}if(t){if(t!==o.id)continue;n=o;break}if(o.rule_order)i[o.rule_order]=o;else if(c(e,o,l.s)){n=o;break}}if(!n&&i.length)for(var s=0;s<i.length;++s)if(i[s]&&c(e,i[s],l.s)){n=i[s];break}n&&(e.configure(n),function(e,t){if(t.bid_req_confs&&t.bid_req_confs.length)for(var n,i=0;i<t.bid_req_confs.length;++i){var r=t.bid_req_confs[i],o={bidder_id:(n=r)[0],bidder_unit_id:n[1],settings:n[2]||{},mutate:n[3]||!1};0;var a=f[String(o.bidder_id)];g.qsab(a,o.bidder_id)&&(e.addBidder(a,p[a]),e.addBidReqConf(a,o,l.s))}}(e,n))},t.units=function(n){g.each(l.u,function(e,t){n(u(0,e))})};var i=l.s.usp;"function"==typeof i&&(i=i()),i&&g.cfusp(i.image,i.iframe,i.delay),t.afterConsent=d("./consent.js")(l);function r(i,r,o){t.afterConsent(function(e){return e&&e.gdprApplies&&!e.consentString?g.log("GDPR skip register",i,e):void(p[i]?g.err("Duplicate bidder alias "+i):(t={bidder_id:(n=o)[0],settings:n[1]||{},mutate:n[2]||!1},p[i]=new r(i,t.bidder_id,t.settings,e,a),p[i].alias=i,p[i].id=t.bidder_id,p[i].settings=t.settings,p[i].mutate=t.mutate||!1,f[String(t.bidder_id)]=i));var t,n})}var a=d("./modules.js");a.setup(t);var o=d("./adapters/triplelift_direct.js"),s=d("./adapters/s2s.js"),m=d("./adapters/medianet.js"),h=d("./adapters/aol.js"),b=d("./adapters/triplelift.js"),v=d("./adapters/index.js"),y=d("./adapters/appnexusast.js"),_=d("./adapters/openx.js");r("rubicon",d("./adapters/rubicon.js"),[2,{accountId:11314},function(e,t){try{e.params=e.params||{},e.params.inventory={k1:""+googletag.pubads().getTargeting("k1")||t.pub&&t.pub.k1||"",k2:""+googletag.pubads().getTargeting("k2")||t.pub&&t.pub.k2||""},g.log("Rubicon KVP",e.params.inventory)}catch(e){g.err("HL Rubicon K1 fail",e)}return e}]),r("openx",_,[4,{delDomain:"healthline-d.openx.net"},0]),r("appnexus",y,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:""+googletag.pubads().getTargeting("k1")||t.pub&&t.pub.k1||"",k2:""+googletag.pubads().getTargeting("k2")||t.pub&&t.pub.k2||""},e}]),r("ix",v,[10,0,0]),r("triplelift",b,[18,{check_gdpr:!0},0]),r("onedisplay",h,[114,{network:"9502.1"},function(e,t){return-1<["US","CA","AU"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("medianet",m,[116,{cid:"8CUPK277N"},function(e,t){return-1<["US","GB","UK","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("s2s_appnexus",s,[159,{dfp_bidder_name:"appnexus"},0]),r("s2s_rubicon",s,[160,{dfp_bidder_name:"rubicon",account:11314},0]),r("tpl_direct",o,[174,{check_gdpr:!0},0])},{"./adapters/aol.js":1,"./adapters/appnexusast.js":2,"./adapters/index.js":3,"./adapters/medianet.js":4,"./adapters/openx.js":5,"./adapters/rubicon.js":6,"./adapters/s2s.js":7,"./adapters/triplelift.js":8,"./adapters/triplelift_direct.js":9,"./ajax":10,"./consent.js":14,"./modules.js":16,"./utils":27}],14:[function(i,e,t){var r,o=i("./utils.js");e.exports=o.wrapAsync(function(e){return r=e,function(e){A(e)}});function a(e,t){m+=e,t&&(m+=t)}function n(){if(y&&_)for(;w.length;){var e=w.shift();S(e)}}function s(){C||(C=!0,o.log("Consent: removing action configurations."),r.u=[],a("N"))}function d(){googletag&&googletag.cmd&&!k&&(k=!0,o.log("Consent: set GPT setRequestNonPersonalizedAds(1)."),a("L"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)}))}function c(){googletag&&googletag.cmd&&!j&&(j=!0,o.log('Consent: set GPT setPrivacySettings({ "restrictDataProcessing": true }).'),a("M"),googletag.cmd.push(function(){googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}var u,l,p,g,f,m="",h={iab:"A",conversant:"B"},b={geoblock:"C",geoblockbids:"D",geocmp:"E"},v="AT,BE,BG,CR,CY,CZ,DK,EE,FI,FR,DE,GR,HU,IE,IT,LV,LI,LU,MT,NL,PL,PT,RO,SK,SI,SP,SE,GB,NO,IS,LI,GI,AX,GF,GP,MQ,YT,RE,MF,FK,CH,AD,MC,SM,VA,",y=!1,_=!1,x=!1,w=[],A=o.wrapAsync(function(e){"function"==typeof e?(e=o.wrapAsync(e),y&&_?S(e):(w.push(e),x||(x=!0,R(),D()))):o.err("Consent: invalid cb",e)}),S=function(e){e(u,l,m)},I=o.wrapAsync(function(e){o.log("Consent: done gathering GDPR consent",e),u=e,y=!0,a("u"),n()}),z=o.wrapAsync(function(e){o.log("Consent: done gathering USP consent",e),l=e,_=!0,a("h"),n()}),C=!1,k=!1,j=!1,R=function(){var e=r.s.cmp;"function"==typeof e?(a("t"),e(r.s,o.wrapAsync(function(e){T(e)}))):T(e)},T=o.wrapAsync(function(n){return n?"pubblock"===n?(o.log("Consent: gdpr: pubblock"),a("F"),s(),d(),void I({gdprApplies:!0,consentString:""})):"iab"===n||"conversant"===n?(a(h[n]),void E(n)):"geoblock"===n||"geoblockbids"===n||"geocmp"===n?(a(b[n]),void M(function(e){if(-1===v.indexOf(e.slice(0,2)))return o.log("Consent: gdpr: not in EU:",e),a("y"),void I({gdprApplies:!1,consentString:""});if("geocmp"===n){var t=r.s.cmp_for_geo;return o.log("Consent: gdpr: in EU, checking cmp:",t),a("x"),void setTimeout(function(){T(t)},0)}if("geoblock"===n)return a("v"),o.rec("GDPRBlockAll"),void o.log("Consent: gdpr: in EU, disabling ads");a("w"),o.log("Consent: gdpr: geoblockbids - preventing auctions and continuing to GAM"),s(),d(),I({gdprApplies:!0,consentString:""})})):(a("z"),o.err("Consent: unrecognized cmp value",n),void I()):(a("G"),void I())}),B=0,E=o.wrapAsync(function(){if("function"!=typeof window.__cmp&&"function"!=typeof window.__tcfapi){var e=r.s.cmp_check_interval,t=r.s.cmp_check_max;if(e&&B<t)return 0===B&&(a("p"),o.log("Consent: gdpr: cmp not found yet - checking every ",e,"ms; max ",t,"intervals")),B+=1,void setTimeout(E,e);var n=r.s.cmp_fallback;return n?(o.log("Consent: gdpr: fallback to",n),a("o"),void setTimeout(function(){T(n)},0)):(a("n"),void o.log("Consent: gdpr: CMP object not found, preventing further execution."))}if(window.__tcfapi)return o.log("Consent: gdpr: calling TCFv2"),a("U"),void window.__tcfapi("getTCData",2,o.wrapAsync(function(e,t){var n,i,r;e?(a("s"),n=e.tcString,r=e.gdprApplies,i=e):a("r"),I({consentString:n,vendorData:i,gdprApplies:r})}));o.log("Consent: gdpr: calling CMP"),a("q"),window.__cmp("getVendorConsents",null,o.wrapAsync(function(e){var t,n,i;o.log("Consent: gdpr: CMP result",e),e?(t=e.metadata||e.consentData,n=e.vendorConsents,i=e.gdprApplies,a("s")):a("r"),I({consentString:t,vendorData:n,gdprApplies:i})}))}),D=function(){var e=r.s.ccpa;if("optout"===e)return o.log("Consent: ccpa: opting out all users"),a("l"),void z({version:1,uspString:O()});if(0!==(e||"").indexOf("geoblock,")){if(!e&&window.__uspapi&&(e="iab",a("k")),!e)return o.log("Consent: ccpa: no strategy defined, continuing as normal"),a("m"),void z();if("iab"===e)return a("j"),void U();o.log("Consent: ccpa: unknown strategy, continuing as normal; strategy=",e),a("i"),z()}else{var t=e.split(",").slice(1);M(function(e){-1!==t.indexOf(e)?(o.log("Consent: ccpa: opting out ",t," users"),a("O"),z({version:1,uspString:O()})):(o.log("Consent: ccpa: region OK",e),a("T"),z({version:1,uspString:"1---"}))})}},O=function(){var e=r.s.ccpa_signatory||"N";return"1"+(r.s.ccpa_button||"N")+"Y"+e},P=0,U=o.wrapAsync(function(){var n=r.s.usp_check_interval||500,i=r.s.usp_check_max||30;if(!window.__uspapi)return n&&P<i?(0===P&&(o.log("Consent: usp: __uspapi not found yet - checking every ",n,"ms; max ",i,"intervals"),a("b")),P+=1,void setTimeout(U,n)):(o.log("Consent: usp: __uspapi not found, preventing further execution."),void a("a"));0===P&&a("c"),window.__uspapi("getUSPData",1,o.wrapAsync(function(e,t){return o.log("Consent: usp: result",e,t),t||e&&e.uspString?(e&&e.uspString?(a("g"),"Y"===e.uspString.substr(2,1)&&c()):a("d"),void z(e)):n&&P<i?(0===P&&(o.log("Consent: usp: result empty, re-checking in ",n,"ms"),a("e")),P+=1,void setTimeout(U,n)):(o.log("Consent: usp: __uspapi returned invalid, defaulting to Opt Out"),a("f"),c(),void z({version:1,uspString:O()}))}))}),M=(f=[],function(e){var t,n;"function"==typeof e?(e=o.wrapAsync(e),p||(t=o.cr("adbrgn"))&&(o.log("Consent: region cookie found",t),a("S"),p=t),p?e(p):(f.push(e),g||(o.log("Consent: geo region requested"),n=function(){for(;f.length;)f.shift()(p)},g=!0,i("./ajax.js")({url:"https://geo.adspsp.com",withCredentials:!1,parseResponseJson:!1},o.wrapAsync(function(e,t){return e?(o.err("geo/region",e),r.s.cmp_allow_geofail?(p="????",o.log("Consent: error getting region, continuing"),a("P"),void n()):(o.log("Consent: region check failed; preventing further action"),void a("Q"))):(p=t,o.log("Consent: region check result",p),o.cw("adbrgn",p),o.log("Consent: cached region",p),a("R"),void n())}))))):o.err("Consent: bad region cb",e)})},{"./ajax.js":10,"./utils.js":27}],15:[function(e,t,n){if(window.AdBridg=window.AdBridg||{cmd:[]},window.googletag=window.googletag||{cmd:[]},AdBridg.gpt=window.googletag,!(AdBridg.exists||window.googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var i,s,d,x=e("../utils.js"),m=e("../unit.js"),u=e("../auction.js"),w=e("../config.js"),A=e("../analytics.js"),S=e("../modules.js");if(!x.qs("adb_off")){if(i=x.vp(),/headless/i.test(navigator.userAgent)||0===i.w||0===i.h)return x.log("headless browser detected; shutting down"),void x.rec("headless");d={enableSingleRequest:fe,disableInitialLoad:fe,addEventListener:(s={add:function(e,t){s[e]=(s[e]||[]).concat(t)},remove:function(e,t){s[e]=(s[e]||[]).filter(function(e){return e!==t})},trigger:function(){var t=[].slice.apply(arguments),e=t.shift();(s[e]||[]).forEach(function(e){e.apply(0,t)})}}).add,removeEventListener:s.remove,safeFrameConfig:!1,setSafeFrameConfig:function(e){d.safeFrameConfig=e},targeting:{},setTargeting:function(e,t){d.targeting[e]=t},refresh:function(e){e.forEach(function(e){var n=document.createElement("iframe"),t=document.getElementById(e.getSlotElementId()),i=!d.safeFrameConfig||e.getTargeting("unsafe")[0];n.height=e.sizes[0][1],n.width=e.sizes[0][0],n.border="0px",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no";var r,o={slot:e,advertiserId:0,campaignId:0,creativeId:0,isEmpty:!(n.frameBorder="0"),lineItemId:0,size:null,sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0},a=e.getTargeting(w.kvp("adb_adid"))[0];i?n.src="about:blank":(d.safeFrameConfig&&d.safeFrameConfig.sandbox&&(n.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),n.src="https://prod.adspsp.com/iframe.html"),t.innerHTML="",t.appendChild(n),a?(n.contentDocument.open(),n.contentDocument.write(i?'<script>try { top.AdBridg.render(document, "'+a+'") } catch(e) {}<\/script>':'<html><head><script type="text/javascript" src="https://prod.adspsp.com/adbpmc2.js"><\/script><script type="text/javascript">AdBridgServe("'+location.href+'", "'+a+'");<\/script></head><body></body></html>'),s.trigger("slotRenderEnded",o)):"function"==typeof(r=w.libSettings().getHouseAd)?r(e,function(e,t){n.contentDocument.open(),n.contentDocument.write(e),o.isEmpty=!1,s.trigger("slotRenderEnded",x.assign(o,t))}):(x.log(e.getAdUnitPath(),"nothing to render"),o.isEmpty=!0,s.trigger("slotRenderEnded",o))})}},AdBridg.gptStub={cmd:{push:function(e){e()}},pubads:function(){return d},defineSlot:function(e,t,n){var i={sizes:t,targeting:{},addService:fe,getSlotElementId:function(){return n},getAdUnitPath:function(){return e},setTargeting:function(e,t){i.targeting[e]=t},getTargeting:function(e){return[].concat(i.targeting[e],d.targeting[e]).filter(Boolean)},getTargetingMap:fe};return i},enableServices:fe,display:fe},("function"==typeof w.libSettings().nogpt&&w.libSettings().nogpt()||x.qs("adb_nogpt"))&&(x.log("Disabling GPT"),AdBridg.gpt=AdBridg.gptStub);var r=!1,o=[],c=!1,l=[],a=!1,h=[],p=[],b={},I={},v={},y={},g=!1,f=[],_=[],z={},C=[],k="Workflow |",j=!0,R=w.libSettings().sra_if;(R&&!R()||w.libSettings().no_sra)&&(j=!1);function T(e){var t,n,i=w.libSettings().gpt_clear_kvps,r=[],o=e.getTargetingMap(),a=!1;for(n in o)o.hasOwnProperty(n)&&("adb_"===n.substr(0,4)||i&&0<=i.indexOf(n)?a=!0:r.push([n,o[n]]));if(a)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);U(e)}function B(e,t){var n=w.libSettings().gpt_exclusions;if(n){var i=[];for(var r in n){var o=n[r];("function"==typeof o&&o(e,t)||o<=t)&&(e.setCategoryExclusion(r),i.push(r))}i.length&&x.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",i)}}function E(t,n,a){return x.wrapAsync(function(o){ce("ra",function(){var r=[];o.eachUnit(function(t){if(o===c){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=w.libSettings().post_auc_ufilter;if(e){var n=e(t,a);if(n)return void x.log("Ignoring",t.alias,t.get("dom_id"),n)}}catch(e){x.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return x.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void x.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();var i=t.getWinner();i&&i.config.unit.setImpData("adb_mtype",i.extras.mediaType),function(e){var t=w.libSettings().bid_strategy,n=e.getWinner(),i=e.get("gpt_slot");T(i),S.trigger("gpt.set_targeting",e,i);var r,o=e.get("adb_imp_data");if(o&&(r=i.getTargeting("adb_imp")||[],x.isarr(r)||(r=[r]),x.each(o,function(e){e&&-1===r.indexOf(e)&&r.push(e)}),r.length&&i.setTargeting(w.kvp("adb_imp"),r)),w.libSettings().track_alias&&i.setTargeting(w.kvp("adb_cfg"),e.alias),!n)return i.setTargeting(w.kvp("adb_bdr"),["none"]),B(i,-1),S.trigger("gpt.no_hbc",e,i,function(e){return x.toRange(e,t)},function(e,t){U(e),B(e,t)});AdBridg.gpt!==window.googletag&&(i.setTargeting("unit",e),(w.libSettings().unsafeBidders||"").split(",").filter(function(e){return e===n.config.bidder_name}).length&&i.setTargeting("unsafe",!0));var a=(z[n.id]=n).config.dfp_bidder_name||n.config.bidder_name,s=n.cpm,d=w.libSettings().cur;d&&(d.exclude&&-1<d.exclude.indexOf(n.config.bidder_id)?x.log("Currency conversion skipped: ",n.config.bidder_name):(x.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate));var c=x.toRange(s,t),u=c.kv;S.trigger("gpt.modify_hbc",e,i,{bid:n,range:c,mod:function(e){return s=e,c=x.toRange(s,t),u=c.kv,c}}),x.qs("adb_force_bidder")?(a="force",u=""):x.qs("adb_force_sf_bidder")&&(a="forcesf",u="");var l=w.libSettings().vs_threshold;if("function"==typeof l)try{var p=l(s);p&&i.setTargeting(w.kvp("adb_vs"),p)}catch(e){x.err("HVfail",e)}i.setTargeting(w.kvp("adb_bdr"),[a]),i.setTargeting(w.kvp("adb_hbc"),[u]),i.setTargeting(w.kvp("adb_adid"),[n.id]),w.libSettings().track_mtype&&n.extras&&n.extras.mediaType&&i.setTargeting(w.kvp("adb_mtype"),[n.extras.mediaType]),x.log("Set GPT targeting for ",i.getAdUnitPath()," / ",i.getSlotElementId(),": ",a,u),B(i,s)}(t),r.push(t.get("gpt_slot"))}catch(e){x.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e=_.concat(r);if(_=[],N(e),"function"==typeof t&&t(o),j&&!(e=F("AC",e)).length)return x.err("All units cancelled",o.id);(j||a)&&(X(),x.log(k,"GPT Batch: ",e.length),AdBridg.gpt.pubads().refresh(e,n),S.trigger("gpt.request_adbridg",o,a))})})}function D(){var e,t;g&&(e=f.length,(f=F("PT",f)).length?(x.isdebug()&&(t=[],x.each(f,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),x.log("Non-bid request with",f.length," units: ",t)),ce("rp",function(){var e=f;f=[],e.length&&(X(),N(e),x.log(k,"GPT PT Batch: ",e.length),AdBridg.gpt.pubads().refresh(e),S.trigger("gpt.request_passthrough",e))})):e&&x.err("PT units cancelled"))}function O(e){x.log("Locked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!0}function P(e,i,r){var o=[],o=Number(e[0])===e[0]?[e]:[].concat(e),a=[];if(x.each(o,function(e,t){if("string"==typeof e[t]){var n=e[t].split("x");return 0!==n[0]&&0!==n[1]||x.err("0 size in",i,r,e[t]),void(e[t].match(/^\d+x\d+$/)||a.push(t))}0!==e[0]&&0!==e[1]||x.err("0 size in",i,r,e.join("x")),o[t]=e.join("x")}),a.length)for(var t=a.length-1;0<=t;--t)o.splice(t,1);return o}var U=function(e){var t=w.libSettings().gpt_exclusions;if(t){for(var n=!1,i=e.getCategoryExclusions(),r=i.length-1;0<=r;--r){var o=i[r];t.hasOwnProperty(o)&&(i.splice(r,1),n=!0)}if(n)for(e.clearCategoryExclusions(),r=0;r<i.length;++r)e.setCategoryExclusion(i[r])}},M={},q={},N=function(e){x.each(e,function(e){var t=e.getSlotElementId(),n=(q[t]||0)+1;q[t]=n;var i=w.libSettings().track_imps;if(i)try{"string"!=typeof i&&(i="1:1-11");for(var r=Math.floor(x.toRange(n,i).kv.split("-")[0]),o=e.getTargeting("adb_imp"),a=o.length-1;0<=a;--a)String(o[a]).match(/^\d+$/)&&o.splice(a,1);o.push(r),e.setTargeting(w.kvp("adb_imp"),o)}catch(e){x.err("Counter failed: ",e)}})},L={},F=x.wrapAsync(function(o,e,a){var s=w.libSettings().max_imp_ctr;"function"==typeof s&&(s=s());var d=[];return x.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var n=t.getSlotElementId();if(!v[n]){if(H("F"+o,n))return x.log("Slot excluded; element hidden",n);if(a){if(L[t.getSlotElementId()])return x.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(s){var i=q[n]||0;if(s<=i)return M[n]?x.log("Slot excluded; too many imps: ",t,i+" > "+s):x.err("Slot imp max: ",t.getAdUnitPath(),n,s)}}var r=[];if(S.trigger("gpt.filter_slot",o,t,a,r),r.length)return x.log("Module blocking",o,t,r);d.push(e)}}}),d}),H=function(e,t,n){var i=x.dom_invisible(t);if(i){n=n||0;var r=w.libSettings().block_invisible;if("function"==typeof r&&(r=r(e,t,i)),r)return x.err("DEI.R",e,t,i,n),i;x.err("DEI.A",e,t,i,n)}return!1};window.AdBridg.defineSlot=x.wrapAsync(function(e,t,n){var i=H("DS",n);if(i)return x.log("Slot definition blocked: ",n,i),!1;var r=w.libSettings().block_slot;if("function"==typeof r)try{if(r(e,n))return void x.err("Blocking slot:  ",e," with dom_id: ",n)}catch(e){x.err("DefineOverride",e)}var o=w.libSettings().override_define;if("function"==typeof o)try{var a=o(e,t,n);if(!1===a)return x.log("Param override prevented defineSlot",e," dom_id=",n),!1;"object"==typeof a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(n=a.dom_id))}catch(e){x.err("DefineOverride",e)}t&&(!x.isarr(t)||t.length)||(A.ctr("dsea"),t=[1,1]);var s=AdBridg.gpt.defineSlot(e,t,n);if(!s)return s;s.addService(AdBridg.gpt.pubads()),O(s);var d=P(t,e,n),c=d.join(","),u=new m({dom_id:n,gpt_slot:s,gpt_sizes:c,imp_ctr:(q[n]||0)+1});u.restrictSizesTo(d),b[n]=c;var l,p,g=400,f=w.libSettings().lazy;return"function"==typeof f&&"number"==typeof(f=f(u,s,n,w.libSettings()))&&(g=f),f&&(x.log("Requiring lazy: ",n,"distance=",g),u.set("lock.lazy",1),l=w.libSettings().lazy_measurement_filter,x.dom(n,g,0,function(){x.logl("wf",k,"unit triggered lazy load",u.alias,u.get("dom_id")),u.set("lock.lazy",!1),j?AdBridg.serve():AdBridg.display(n)},l,w.libSettings().lazy_compatible_collapse)),h.push(u),x.log(k,"Defined slot: ",e,n,c),S.trigger("gpt.define",u,s,e,t,n),w.libSettings().allow_serve_from_display&&y[n]&&(x.logl("wf",k,"triggering serve from define after display",n),AdBridg.serve()),j||("function"==typeof(p=w.libSettings().nonsra_poll)&&(p=p()),p&&(x.log("Nonsra poll for DOM ids"),V(n))),s}),window.AdBridg.defineOutOfPageSlot=x.wrapAsync(function(e,t){var n=AdBridg.gpt.defineOutOfPageSlot(e,t);if(!n)return n;n.addService(AdBridg.gpt.pubads()),O(n);var i=new m({dom_id:t,gpt_slot:n,gpt_sizes:""});return h.push(i),x.log(k,"Defined OOP slot: ",e,t),S.trigger("gpt.define",i,n,e,!1,t),w.libSettings().allow_serve_from_display&&y[t]&&(x.logl("wf",k,"triggering serve from defineOOP after display",t),AdBridg.serve()),n});var G={},V=function(t){G[t]=G[t]||{ct:0,tx:-1};var n=G[t];clearTimeout(n.tx),10!==n.ct?(n.ct+=1,n.tx=setTimeout(x.wrapAsync(function(){if(!y[t]){var e=!!document.getElementById(t);if(x.log("Nonsra display poll #"+n.ct+": ",t,"; display received =",!!y[t],"; dom exists =",e),e)return x.log("Nonsra issuing display from poll",t),void AdBridg.display(t);V(t)}}),1e3)):x.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=x.wrapAsync(function(e,t,n){if(n?(AdBridg.defineSlot(e,t,n),AdBridg.serve()):n=e,y[n]=!0,x.logl("wf",k,"display received",n),w.libSettings().allow_serve_from_display&&h.length&&(x.logl("wf",k,"triggering serve from display",n),AdBridg.serve()),g=!0,!j){h.length&&(p=p.concat(h),h=[]);for(var i=p.length-1;0<=i;--i){var r=p[i].get("dom_id");if(y[r]){var o=p.splice(i,1)[0];if(!o.get("gpt_sizes")){x.logl("Ignoring display for unit with no sizes",r);continue}h.push(o)}}return h.length?(x.logl("wf",k,"nonsra issuing serve",h.length),void Y(function(i,r){ce("dn",function(){i?i.eachUnit(function(e){x.logl("wf",k,"display resolved",e.get("dom_id"),"auction=",i),AdBridg.gpt.display(e.get("dom_id")),S.trigger("gpt.request_nosra",e.get("dom_id"))}):(x.logl("wf",k,"display resolved",r," as passthrough"),AdBridg.gpt.display(r),S.trigger("gpt.request_nosra",r));var e=p.length;if(e){x.logl("wf",k,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var n=p[t].get("dom_id");if(y[n]){setTimeout(function(){AdBridg.display(n)},0);break}}}})})):void x.logl("wf",k,"nonsra display waiting on definition/serve")}ce("ds",function(){X(),x.logl("wf",k,"display resolved",n),AdBridg.gpt.display(n)}),D()}),window.AdBridg.refresh=x.wrapAsync(function(e,t){if(e=e||AdBridg.gpt.pubads().getSlots(),w.libSettings().allow_serve_from_refresh&&h.length){for(var n=e.length-1;0<=n;n--)for(var i=h.length-1;0<=i;i--)e[n]===h[i].get("gpt_slot")&&e.splice(n,1);if(AdBridg.serve(),!e.length)return}var a,s,d,c,r=e.length;e=F("RF",e,!0),x.logl("wf",k,"refresh: ",r,"slots requested; ",r-e.length,"filtered out;",e.length,"remaining."),e.length?(a=new u,s="no_auction"!==w.libSettings().refresh,d=[],c=[],x.each(e,function(e){try{T(e)}catch(e){return x.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();O(e);var n,i,r=b[t]||"";I[t]&&(i=(n=I[t].adb||I[t].gpt)&&"0x0"!==n&&n.match(/^\d{2,}x\d{2,}\d/),x.logl("sz","Refresh size restriction for",t,"=",n,"; is_valid=",i),i&&(r=n));var o=new m({dom_id:t,gpt_slot:e,gpt_sizes:r,is_refresh:!0,imp_ctr:(q[t]||0)+1});s&&(w.configureUnit(o),x.logl("sz","Refresh restricting sizes to ",r),o.restrictSizesTo(r.split(","))),o.hasBidReqConf()?a.addUnit(o):(c.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),d.push(e))}),d.length&&(x.log("Refreshing",d.length,"non-bid units: ",c),ce("rn",function(){X(),N(d),x.log(k,"GPT RF Batch: ",d.length),AdBridg.gpt.pubads().refresh(d,t),S.trigger("gpt.request_passthrough",d,!0)})),a.hasUnit()&&(C.push(a),a.execute(E(null,t,!0)))):r&&x.err("RF units cancelled")});var W={},J=x.wrapAsync(function(e){var t=String(e.message?e.message:e.data),n=t.substr(0,9),i=t.substr(10);return"adbsrverr"===n?x.err("Safeframe error: ",i):"adbsrvlog"===n?x.log("Safeframe: ",i):"adbvidend"===n?S.trigger("bid.outstream_end",i):"adbsrvreq"===n?W.hasOwnProperty(i)?x.err("SafeframeDupe:",i):void AdBridg.render({safeframe:!0,source:e.source},i):void 0});window.addEventListener?window.addEventListener("message",J,!1):document.attachEvent&&window.attachEvent("onmessage",J),window.AdBridg.render=x.wrapAsync(function(t,e){var n,i=!("object"!=typeof e);if(i)n=e,x.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," [override] creative from ",n.config.bidder_name," BR ",n.config.id);else{if(!z[e])return void x.err("Render failed for ID ",e);n=z[e],x.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," creative from ",n.config.bidder_name,n.fromPool?"(from pool)":""," BR ",n.config.id),A.bidRendered(n)}var r=n.config.unit.get("dom_id"),o=x.dom_invisible(r);H("AR",r,n.config.bidder_id),o&&x.log("AdBridg render detected invisible container at time of render:",r,o);var a={config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras,dom_id:r};i&&(a.override=1);var s=JSON.stringify(a);if(n.adbridg_rendered=!0,S.trigger("bid.render",n,a),t.safeframe&&t.source&&t.source.postMessage){var d=w.libSettings().pmmutatefn;if(!n.creative)return x.err("Safeframe render fail: no creative");var c={ad:"\x3c!-- AdBridg Delivery (SF): "+s+" --\x3e"+n.creative};"function"==typeof d&&(c=d(n,c)),t.source.postMessage("adbsrvad:"+JSON.stringify(c),"*")}else if(n.creative){var u=w.libSettings().pubrenderfn,l=!1;"function"==typeof u&&(t.write("\x3c!-- AdBridg Delivery (ER): "+s+" --\x3e"),u(t,n.creative,n.config.bidder_name,n.width,n.height,n)?(l=!0,x.log("Creative rendered externally")):x.log("External render skipped")),l||(t.write("\x3c!-- AdBridg Delivery: "+s+" --\x3e"),t.write(n.creative),t.close())}else if(n.creative_url)try{var p=x.iiframe();p.width=n.width,p.height=n.height,p.style.display="inline",p.style.overflow="hidden",p.src=n.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+s)),t.body.appendChild(p)}catch(e){x.err("Delivery failure from ",n.config.bidder_name," / ",n.config.bidder_unit_id,e)}else{if("function"!=typeof n.render)return x.err("No creative from ",n.config.bidder_name," / ",n.config.bidder_unit_id);n.rawbid.adUnitCode=document.getElementById(r).children[0].id,document.getElementById(n.rawbid.adUnitCode).innerHTML="",n.render(),x.rec("winner.render:"+n.id)}var g,f,m,h,b=n.resize_pad_top||!1,v=document.getElementById(r);if(v.style.textAlign="center",(h=(g=v).getElementsByClassName("adbridg-dyn-pad")).length&&x.each(h,function(e){e.parent.removeChild(e)}),b&&((f=x.prepend(g,"span")).className="adbridg-dyn-pad",f.innerHTML="&nbsp;",f.style="display:block;width:1px;height:"+b+"px;overflow:hidden;",(m=document.createElement("span")).className="adbridg-dyn-pad",m.innerHTML="&nbsp;",m.style="display:block;width:1px;height:"+b+"px;overflow:hidden;",g.appendChild(m)),t.safeframe)try{var y=v.getElementsByTagName("iframe");x.each(y,function(e){e.contentWindow===t.source&&(x.logl("RS","RS SF element: ",e.id,n.width,n.height),x.resize_element(e,n.width,n.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(x.logl("RS","RS SF parent: ",e.parentNode.id,n.width,n.height),x.resize_element(e.parentNode,n.width,n.height)))})}catch(e){x.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=n.width,t.defaultView.frameElement.height=n.height),x.logl("RS","RS iframe: ",n.width,n.height),x.resize_iframe(window,t,n.width,n.height);w.libSettings().refresh_keep_size&&(I[r]||(I[r]={gpt:"",adb:""}),I[r].adb=a.size,x.log("SIZE REFRESH KEEPING ADB: ",r,I[r]));var _=w.libSettings().post_render;"function"==typeof _&&_(n)});var $=[];window.AdBridg.sizeMapping=x.wrapAsync(function(){var e,n=[],i=AdBridg.gpt.sizeMapping(),r={addSize:x.wrapAsync(function(e,t){return i.addSize(e,t),n.push([e,t]),r}),build:x.wrapAsync(function(){return e=i.build(),$.push({gpt_map:e,sizes:n}),e})};return r}),window.AdBridg.useSizeMapping=x.wrapAsync(function(e,t,n){var i=!1,r=e.getSlotElementId(),o=e.getAdUnitPath();for(e.defineSizeMapping(t),l=$.length-1;0<=l;--l)if($[l].gpt_map===t){i=$[l].sizes;break}if(i){for(var a=x.vp(),s=a.w,d=a.h,c=!1,u=[],l=i.length-1;0<=l;--l){var p=i[l][0];if(s>=p[0]&&d>=p[1]){if(c){if(c[0]>p[0])continue;if(c[0]===p[0]&&c[1]>p[1])continue}c=p,u=i[l][1]}}var g=P(u,o,r),f=g.join(",");b[r]=f;var m=n||!1;if(!m)for(l=h.length-1;0<=l;--l)if(h[l].get("gpt_slot")===e){m=h[l];break}if(!m)return x.err("No unit for size map: ",o,r);m.set("gpt_sizes",f),m.restrictSizesTo(g),b[r]?x.log("Applied size mapping to ",r," / ",o,": ",f):(v[r]=1,x.log("Excluding unit ",r," / ",o," because it has no valid sizes"))}else x.err("Size mapping not found: ",o,r)}),window.AdBridg.resetInternals=function(){};var K=!(window.AdBridg.destroySlots=function(e){e=e||AdBridg.gpt.pubads().getSlots();var n=[];return x.each(e,function(e){var t;e&&(t=e.getSlotElementId(),delete q[t],delete b[t],delete I[t],delete v[t],delete L[t],delete y[t],x.undom(t),S.trigger("gpt.destroy",e,t),n.push(t))}),x.log("Destroyed slots: ",n),AdBridg.gpt.destroySlots(e)}),X=function(){var e;K||(K=!0,"function"==typeof(e=w.libSettings().before_gpt)&&x.wrapAsync(e)(),S.trigger("gpt.before_enable_services"),AdBridg.gpt.enableServices(),S.trigger("gpt.after_enable_services"))},Q=!1,Y=x.wrapAsync(function(e){x.logl("wf",k,"serve called with",h.length,"pending units");var t=!1;X();for(var n=!1,i=0;h.length>i;){var r=h.shift();if(r.get("lock.lazy"))x.logl("wf",k,"serve skipped lazy",r.alias,r.get("dom_id")),i+=1,h.push(r);else{var o=r.get("dom_id");if(v[o]||!H("AS",o))if(w.configureUnit(r),r.hasBidReqConf()){if(c){var a=l.indexOf(r.id);if(0<=a){var s=!1;if(c.eachUnit(function(e){var t,n,i;e.id===r.id&&(s=!0,l.splice(a,1),x.log("Proxy into preload ",r.alias),t=r.get("gpt_slot"),n=r.get("dom_id"),i=b[n]||r.get("gpt_sizes")||"",e.set({dom_id:n,gpt_slot:t,gpt_sizes:i}),e.restrictSizesTo(i.split(",")),S.trigger("unit.pre_attach",e))}),s){n=!0;continue}}}(t=t||new u).addUnit(r)}else j?f.push(r.get("gpt_slot")):(N([r.get("gpt_slot")]),x.thread(e)(!1,r.get("dom_id")));else x.err("Slot rejected before auction, element hidden:",o)}}(t||c)&&w.libSettings().gpt_keep_oop&&f.length&&(x.log("Batching passthrough units with auction units"),_=_.concat(f),f=[]),t&&(C.push(t),t.execute(E(e)),t=!1),n&&!Q&&(Q=!0,ge(E())),D()}),Z=!1;window.AdBridg.serve=function(e){if(clearTimeout(Z),j){x.logl("wf",k,"queuing serve");var t=w.libSettings().batch_delay;if("function"==typeof t&&(t=t(h)),0===t)return x.log("Starting auctions ASAP."),Y(e);t=t||100,Z=setTimeout(function(){Y(e)},t)}else for(var n=h.length-1;0<=n;--n){var i=h[n].get("dom_id");if(y[i]){setTimeout(function(){AdBridg.display(i)},0);break}}};function ee(e){for(var t,n,i=C.length-1;0<=i&&!(t=(n=C[i]).findUnit(e));--i);return!t&&c&&(t=(n=c).findUnit(e)),!!t&&{auction:n,unit:t}}var te=x.wrapAsync(function(t){var e,n=t.slot.getSlotElementId();!t.isEmpty&&H("RE",n)&&x.log("Slot rendered from GPT, but element hidden by CSS:",n);try{e=t.slot,x.log("Unlocked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!1,T(e)}catch(e){x.err("Unlock failed")}var i=q[n];S.trigger("gpt.render_raw",t,i);var r=ee(function(e){return e.get("gpt_slot")===t.slot});if(w.libSettings().refresh_keep_size&&t.size&&2===t.size.length&&(I[n]||(I[n]={gpt:"",adb:""}),I[n].gpt=t.size.join("x")),r){if(!r.auction)return x.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());AdBridg.gpt===window.googletag?A.gptRendered(r.auction,r.unit,t):A.enhRendered(r.auction.instancectr,r.unit.id,t),S.trigger("gpt.render",r.unit,t,i),x.qdusp()}}),ne=x.wrapAsync(function(t){S.trigger("gpt.viewed_raw",t);var e=ee(function(e){return e.get("gpt_slot")===t.slot});if(e){A.gptViewed(e.auction,e.unit);try{var n=w.libSettings().post_view;"function"==typeof n&&n(t,e.unit)}catch(e){x.err("PostView fail",e)}S.trigger("gpt.viewed",t.slot,e.unit);var i=t.slot.getSlotElementId();H("VE",i)&&x.log("Slot viewed from GPT, but element hidden by CSS:",i)}}),ie=[],re={};window.AdBridg.lock=function(e){if(re[e])return re[e]=null,x.log("-== GPT lock already cleared: ",e);x.log("-== GPT locked by: ",e),ie.push(e)},window.AdBridg.unlock=function(e,t){for(var n=!1,i=0;i<ie.length;++i)if(ie[i]===e){x.log("-== GPT lock cleared: ",e),ie.splice(i,1),n=!0;break}n||t||(re[e]=!0,x.log("-== GPT unrecognized lock cleared: ",e)),ue()};function oe(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),le<=99&&(le+=1),A.meta("wb",le)})}function ae(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),A.meta("wb",0)})}var se,de=[],ce=function(e,t){de.push({n:e,f:x.wrapAsync(t)}),ue()},ue=function(){if(!ie.length)for(;de.length;){de.shift().f()}},le=0;window.addEventListener?(window.addEventListener("blur",oe),window.addEventListener("focus",ae)):window.attachEvent&&(window.attachEvent("onblur",oe),window.attachEvent("onfocus",ae)),x.isdebug()&&(AdBridg.auctions=C,AdBridg.utils=x);var pe=x.wrapAsync(function(){clearTimeout(se);var e={delay:!1};if(S.trigger("adb.init_check",e),"number"!=typeof e.delay){S.trigger("adb.init"),AdBridg.gpt.pubads().addEventListener("slotRenderEnded",te),AdBridg.gpt.pubads().addEventListener("impressionViewable",ne),r=!0;var t=w.libSettings().initfn;for(t&&AdBridg.cmd.push(t);o.length;){var n=o.shift();AdBridg.cmd.push(n)}}else se=setTimeout(pe,e.delay)});window.AdBridg.lazy=function(e,t,n,i){"function"==typeof n&&(i=n,n=0),x.dom(e,t,n,i)},x.log("First execution."),w.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){var t=w.libSettings().preload&&w.libSettings().preload()||[];if(t.length){for(var n=AdBridg.cmd.length;0<=n;n--){var i=AdBridg.cmd[n];i&&i.gpt_path&&AdBridg.cmd.splice(n,1,function(n){function i(e){function t(e){2===e.length&&1<e[0]&&1<e[1]?n.push(e):x.err("Invalid preload size: ",e)}var n=[];return x.isarr(e)&&(x.isarr(e[0])?x.each(e,t):t(e)),n}var r=i(n.size||[]);return function(){var t,e=AdBridg.defineSlot(n.gpt_path,r,n.dom_id);x.isarr(n.size_map)&&(t=AdBridg.sizeMapping(),x.each(n.size_map,function(e){t.addSize(e.viewport,i(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)),AdBridg.serve()}}(i))}t&&t.length&&(c=new u,x.each(t,function(e){if(e=parseInt(e,10),x.log("Preloading",e),e){var t=new m;if(w.configureUnit(t,e),!t.hasBidReqConf())return x.err("Preload bad id",e);l.push(e),c.addUnit(t)}}),c.hasUnit()&&(x.log("Preload kickoff",c),c.execute(x.wrapAsync(function(e){x.log("Preload complete"),a&&a(e)}))))}}});var ge=function(e){c.isDone()?e(c):a=e};w.afterConsent(function(){AdBridg.gpt.cmd.push(function(){x.log("Initializing. SRA is",(j?"enabled":"disabled")+"."),j&&(AdBridg.gpt.pubads().enableSingleRequest(),AdBridg.gpt.pubads().disableInitialLoad()),pe()})}),x.wrapAsync(function(){for(AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if(x.qs("adb_critfail"))throw new Error("Simulating critical failure");if("function"==typeof w.libSettings().cmd_override)try{var e=w.libSettings().cmd_override(t);if(!e)return void x.log("AdBridg command cancelled",t);t=e}catch(e){x.err("CmdOverrideFail",e)}if("object"!=typeof t||(t.config&&(w.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(x.each(t.events,function(e,t){S.on(t,e)}),delete t.events),t.action&&(x.log("Publisher event triggered: ","pub."+t.action),S.trigger("pub."+t.action),delete t.action),Object.getOwnPropertyNames(t).length))if(r){if("object"==typeof t&&(t.gpt_path||t.length))try{x.log("Initialization command object processing:",t);function n(r){AdBridg.gpt.cmd.push(function(){var n,e;if(r.oop)n=AdBridg.defineOutOfPageSlot(r.gpt_path,r.dom_id);else if((n=AdBridg.defineSlot(r.gpt_path,r.size||[1,1],r.dom_id))&&r.size_map){for(var t=AdBridg.sizeMapping(),i=0;i<r.size_map.length;i++)t=t.addSize(r.size_map[i].viewport,r.size_map[i].sizes);t=t.build(),n.defineSizeMapping(t),AdBridg.useSizeMapping(n,t)}n&&r.targeting&&x.each(r.targeting,function(e,t){n.setTargeting(t,e)}),n&&r.events&&(r.events["gpt.defined"]&&r.events["gpt.defined"](n),(e=function(t,e){r.events[t]&&AdBridg.gpt.pubads().addEventListener(e,function(e){e.slot===n&&r.events[t](n,e)})})("gpt.rendered","slotRenderEnded"),e("gpt.viewed","impressionViewable"),e("gpt.visibilityChanged","slotVisibilityChanged")),n&&AdBridg.display(r.dom_id)})}if(t.length)for(var i=0;i<t.length;++i)n(t[i]);else n(t);t=function(){AdBridg.serve()}}catch(e){x.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){x.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else o.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}})()}}function fe(){}},{"../analytics.js":11,"../auction.js":12,"../config.js":13,"../modules.js":16,"../unit.js":26,"../utils.js":27}],16:[function(e,t,n){function i(e){a.push(e)}var r=e("./utils.js"),o={},a=[],s=["gpt.after_enable_services"],d={},c={},u={on:function(e,t){r.isarr(e)||(e=[e]),r.each(e,function(e){d[e]?t(e):(c[e]||(c[e]=[]),c[e].push(t))})},trigger:null};u.trigger=n.trigger=r.wrapAsync(function(e){var t=arguments,n=(c[e]||[]).concat(c["*"]||[]);r.each(n,r.wrapAsync(function(e){e.apply(null,t)})),-1<s.indexOf(e)&&(d[e]=1)});var l=!1;r.onerr(r.wrapAsync(function(){return l?(console&&console.log("AdBridg nested module errors"),void r.pixel("https://adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest")):(l=!0,n.trigger("error",arguments),void(l=!1))})),n.on=r.wrapAsync(function(e,t){u.on(e,t)}),n.setup=function(e){o=e};try{i(new(e("./modules/nextrollid.js"))({partner_id:"1013"},u)),i(new(e("./modules/rhunt.js"))({},u)),i(new(e("./modules/lzest.js"))({},u)),i(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon"},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang"}}},u)),i(new(e("./modules/emit.js"))({"gpt.set_targeting":function(e,t,n){var i,r=(o.libSettings().pub||{}).abSegment;r&&(i=!1,r.match("postTTI")?i=r.match("interactive")?"ab_pI":r.match("load")?"ab_pL":"ab_p0":r.match("mmrAb")&&(r.match("true")?i="ab_m1":r.match("false")&&(i="ab_m0")),i&&t.setImpData("hlAbSegment",i))}},u)),i(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","320x50","728x90","970x250"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),r.log("Healthline config not detected; using globals")),(e.pub?e.pub.skipGDPR:((__NEXT_DATA__||{}).query||{}).skipGDPR)||(window.initParams||{}).gdpr?((e.pub?!e.pub.sponsorship:!(((__NEXT_DATA__||{}).props||{}).adTargeting||{}).isSponsored)||"US"!==HL.c.countryCode)&&{skip_init:!0}:(r.log("Amazon/HL GDPR not set yet; skipping initialization request."),!1)}},u)),i(new(e("./modules/gamconfig.js"))({active:0,slots:[{dom_ad_class:"adb-dlb",gpt_path_builder:"/4788/hl/{{lib.pub.hl_category}}/DLB",size:""},{dom_ad_class:"adb-dmr",gpt_path_builder:"/4788/hl/{{lib.pub.hl_category}}/DMR",size:""},{dom_ad_class:"adb-mlb",gpt_path_builder:"/4788/hl/{{lib.pub.hl_category}}/MLB",size:""},{dom_ad_class:"adb-mmr",gpt_path_builder:"/4788/hl/{{lib.pub.hl_category}}/MMR",size:""}]},u))}catch(e){r.err("Module failed",e)}},{"./modules/amazon.js":17,"./modules/emit.js":18,"./modules/gamconfig.js":19,"./modules/gprog.js":20,"./modules/lzest.js":21,"./modules/nextrollid.js":22,"./modules/rhunt.js":23,"./utils.js":27}],17:[function(e,t,n){var g=e("../utils.js"),s=e("../config.js"),r=(t.exports=function(d,e){function c(e){var i=[],r=d.allowed_sizes;return g.each(e,function(e,t){if(r&&-1==r.indexOf(e))return g.log("Amazon unsupported size: ",e);var n=e.split("x");n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10),i.push(n)}),i}var u={},l={},a={},o=!g.qs("adb_enable_amzn")&&d.test;"function"==typeof o&&(o=o());var t=d.load_apstag;"function"==typeof t&&(t=t());var n=!1,i=!1;if("function"==typeof s.libSettings().nogpt&&s.libSettings().nogpt()||g.qs("adb_nogpt"))return g.log("nogpt Disabling Amazon"),void(o=i=!(t=!1));function p(){if(n)return o;var r=d.init;return"function"==typeof r&&(r=r(s.libSettings())),r?(n=!0,o?(g.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),o):window.apstag?void(r.skip_init||s.afterConsent(function(e,t){var n=t&&t.uspString,i=n&&"1---"===t.uspString;if(n&&(!i||!d.skip_ccpa_default)&&(r.params=r.params||{},r.params.us_privacy=t.uspString,d.no_ca&&"Y"===t.uspString.substr(2,1)))return o=!0,void g.log("Amazon disabled for CA",t.uspString);apstag.init(r),g.log("Amazon initialized:",r)})):(t||i||(g.err("Amazon library not found."),i=!0),o=!0)):(g.log("Amazon init bypassed."),!1)}o||!t||r()||(o=n=!0),e.on("unit.config",function(e,t){if(!p()){var n=t.get("dom_id"),i=t.get("gpt_slot");if(!n||!i)return g.log("Amazon skip",n,i);var r=i.getAdUnitPath()+"",o=d.get_slot_name?d.get_slot_name(r,n,i,t):(r.match(/([^\/]+)$/)||[""])[0];if(!o)return g.err("Amazon noname: ",o,n,r);var a,s={slotID:n,slotName:o,sizes:l[n]||c(t.all_sizes)};d.use_pubcid&&window.PublisherCommonId&&window.PublisherCommonId.getId&&(a=window.PublisherCommonId.getId(),s.slotParams={"pubcid.org":[a]}),u[n]=s,g.log("Amazon slot configured",s,!!l[n])}}),e.on("unit.restrict_sizes",function(e,t,n){if(!p()){var i=t.get("dom_id");n=c(n),l[i]=n;var r=u[i];return r?(g.log("Amazon slot resize",r,n),void(r.sizes=n)):void 0}}),e.on("gpt.destroy",function(e,t,n){p()||(g.log("Amazon slot remove",n),delete u[n],delete l[n])}),e.on("unit.pre_attach",function(e,t){if(!p()){var n=t.get("dom_id"),i=u[n];if(!i)return g.log("Amazon preload mismatch",n);var r=t.auction,o="amazon."+t.id;r.lock(o),apstag.fetchBids({slots:[i],timeout:r.max_ms},g.wrapAsync(function(){g.log("Amazon preload response",r.id,arguments);try{apstag.setDisplayBids()}catch(e){g.err("Amazon setBids",e)}r.unlock(o)}))}}),e.on("auction.start",function(e,t){var i,n,r,o;p()||(i=[],t.eachUnit(function(e){var t=e.get("dom_id"),n=u[t];n?(i.push(n),u[t]=null):g.log("Amazon no config",t)}),i.length&&(n={slots:i,timeout:t.max_ms},g.log("Amazon request",t.id,n),r="amazon."+t.id,a[r]=!0,t.lock(r),o=setTimeout(g.wrapAsync(function(){a[r]&&(a[r]=!1,t.unlock(r),g.err("Amazon incomplete at 50"))}),t.max_ms+50),apstag.fetchBids(n,g.wrapAsync(function(){g.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){g.err("Amazon setBids",e)}clearTimeout(o),a[r]&&(a[r]=!1,t.unlock(r))}))))})},function(){if(window.apstag)return g.log("Amazon already loaded"),!0;g.log("Loading Amazon dependency");try{n="apstag",i=window,t=document,i[n]||(i[n]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=t.createElement("script")).async=!0,r.src="https://c.amazon-adsystem.com/aax2/apstag.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o))}catch(e){return g.err("Amazon load failed",e),!1}function e(e,t){i[n]._Q.push([e,t])}var n,i,t,r,o;return!0})},{"../config.js":13,"../utils.js":27}],18:[function(e,t,n){var i=e("../utils.js");t.exports=function(t,e){e.on("*",i.wrapAsync(function(e){t[e]&&t[e].apply(null,arguments)}))}},{"../utils.js":27}],19:[function(e,t,n){function E(e){var t=e.js.split(".");if("window"==t[0]){var n=t[1];return window.hasOwnProperty(n)?window[n]:void 0}D.log("GamConfig JS read fail",e)}var D=e("../utils.js"),O=e("../config.js"),P=(e("../unit.js"),{});t.exports=function(e,t){var z="adbridg-ad-class",C="data-adbridg-ad-class",k="data-adbridg-ad-class-loaded",j="data-adbridg-ad-class-invalid",R="data-adbridg-phase",T="adbridg_ad_",B=0;t.on("pub.spa_pv_initialize",function(){B=1});function n(e,g){var t,n,o,i,f,m,h,b,v,y,a,s,r,d,_,x,w,c,u,l,p,A,S,I=e.active;I&&I.js&&(I=E(I)),I&&I.url&&(new RegExp(I.url,"i"),I=D.url().href.match(I.url)),I?(D.log("GamConfig enabled",e),e.pageType&&(t=[],(n=e.pageType)&&n.js&&(n=E(n)),D.each(e.slots,function(e){e.page_type===n&&t.push(e)}),D.log("GamConfig page type slots: ",{total_slots:e.slots.length,page_type_slots:t.length,slots:t}),e.slots=t),e.safeFrames&&(D.log("Requiring GPT Sandbox SafeFrames"),AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().setSafeFrameConfig({sandbox:!0})})),e.collapseEmptyDivs&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().collapseEmptyDivs()}),e.centering&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().setCentering(!0)}),e.safeFrames&&AdBridg.gpt.cmd.push(function(){D.log("Requiring GPT Sandbox SafeFrames"),AdBridg.gpt.pubads().setSafeFrameConfig({sandbox:!0})}),o={},i=function(e){AdBridg.cmd.push(function(){D.each(e,function(e,t){var n=e;e&&e.js&&(e=E(e)),e&&e.qs&&(e=D.qs(e.qs.match)?e.qs.value:void 0),void 0!==e?(D.log("GamConfig setting page targeting: ",t,e),AdBridg.gpt.pubads().setTargeting(t,e),o[t]=e):D.log("GamConfig targeting empty",t,e,n)})})},g.on("pub.config",function(e,t){i(t.targeting)}),e.targeting&&i(e.targeting),f=function(e,t){var n=e.getAttribute(R)||"";n&&(n+=";");var i=(n+t+"@"+D.dts()+"ms").substr(0,200);200==i.length&&(i+="..."),e.setAttribute(R,i)},(a=function(){m={},h={},b={},y=!(v={}),D.each(e.slots,function(t){if(!O.libSettings().gam_filter||O.libSettings().gam_filter(t)){if(t.dom_ad_class)return y=!0,void(v[t.dom_ad_class]=t);if(t.inject&&!document.getElementById(t.dom_id)){var e=document.createElement("div");e.id=t.dom_id;try{document.body.appendChild(e)}catch(e){D.err("GamConfig cannot inject",t.dom_id,e)}}var n=t.dom_id;m[n]||h[n]?D.err("GamConfig duplicate dom_id",n):m[n]=t}else D.log("GamConfig slot skipped by pub",t)})})(),s=function(e,t){if(m[e.id])return!0;var n,i=e.getAttribute&&(e.getAttribute(C)||e.getAttribute(z));if(v[i])return!0;if(n=D.qs("adb_gcerr")?e.children.length:(e.children||[]).length,t&&n)for(var r=0;r<n;++r)if(s(e.children[r],!0))return!0;return!1},r=function(){clearTimeout(_),_=setTimeout(function(){w()||l()},10)},d=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("attributes"==n.type)return s(n.target,!1)?r():void 0;for(var i=0;i<n.addedNodes.length;++i){n.addedNodes[i];if(s(n.target,!0))return r()}}},x=e.scan_interval||200,w=function(){clearTimeout(_);var e,a=!1;if(y){a=!0;for(var t=document.querySelectorAll("["+C+"],["+z+"]"),n=0;n<t.length;++n){var i,o,r,s,d=t[n],c=d.getAttribute(C)||d.getAttribute(z);c&&(v[c]?(i=c.replace(/[^\w\d]+/gi,""),P[e=i]=(P[e]||0)+1,o=P[e],d.setAttribute("data-adbridg-ad-class-ctr",o),d.id||(d.id=T+i+"_"+o),d.removeAttribute(C),d.removeAttribute(z),d.setAttribute(k,c),r=v[c],(s=D.deepAssign({dom_id:d.id},r)).targeting&&D.each(s.targeting,function(e,t){var n,i,r;"object"==typeof e&&e.format&&(s.targeting[t]=(n=e.format,i=o,r=n.match(/\{\{[^\}]+\}\}/g),D.each(r,function(e){"dom_ctr"!==e.replace(/[\{\}]/g,"")?D.err("GamConfig unknown slot targeting format",e):n=n.replace(e,i)}),n))}),m[d.id]=s):(D.err("GamConfig invalid ad class attribute",c),d.removeAttribute(C),d.removeAttribute(z),d.setAttribute(j,c)))}}var u=[],l=[],p=[];return D.each(m,function(n,i){var e,r,t,o=document.getElementById(i);o?(o.innerHTML="",f(o,"detected"),p.push(i),h[i]||(h[i]=!0,u.push(n),n.gpt_path_builder&&(n.gpt_path=(r=""+(e=n).gpt_path_builder,t=r.match(/\{\{[^\}]+\}\}/g),D.log("GamConfig extracted curlies: ",t),D.each(t,function(e){var t,n=e.replace(/[\{\}]/g,""),i="";n.match(/^lib\.pub\./)?(t=n.replace("lib.pub.",""),(i=(O.libSettings().pub||{})[t])||(O.libSettings().pub||{}).hasOwnProperty(t)||D.err("GamConfig PathBuilder setting not present:",e),r=r.replace(e,i)):n.match(/^lib\.adb\./)?(t=n.replace("lib.adb.",""),(i=AdBridg.global(t)||"")||D.err("Warning: GamConfig PathBuilder AdBridg global empty/not present:",t),r=r.replace(e,i)):D.err("GamConfig unsupported gpt_path_builder part:",e)}),D.log("GamConfig gpt_path_builder",e.gpt_path_builder,r),r)),n.dom_ad_class&&g.on("unit.init_config",function(e,t){t.get("dom_id")==i&&t.set("dom_ad_class",n.dom_ad_class)}),n.events={"gpt.defined":function(e){f(o,"gpt_define")},"gpt.rendered":function(e,t){f(o,"gpt_render:"+t.sourceAgnosticCreativeId)},"gpt.viewed":function(e,t){f(o,"gpt_view")}}),b[i]=!0,l.push(i)):a=!0}),D.each(p,function(e){delete m[e]}),u.length&&(D.log("GamConfig configuring slots",u),AdBridg.cmd.push(u)),l.length&&AdBridg.cmd.push(function(){D.each(l,function(e){AdBridg.display(e)})}),a&&!MutationObserver&&(_=setTimeout(w,x)),a},u=function(){MutationObserver?(w(),c&&l(),(c=new MutationObserver(d)).observe(document.body,{attributes:!0,attributeFilter:["id",C,z],childList:!0,subtree:!0}),D.log("GamConfig MutationObserver added")):(D.log("GamConfig polling started"),w())},p=!(l=function(){clearTimeout(_),c?(c.disconnect(),c=!1,D.log("GamConfig MutationObserver disconnected")):D.log("GamConfig polling stopped")}),g.on("pub.spa_pv_shutdown",function(){p=!0,D.log("GamConfig stopping for SPA"),a(),l(),D.each(o,function(e,t){D.log("GamConfig erasing KVP",t),AdBridg.gpt.pubads().setTargeting(t,[])});var i=[],r=[];D.each(AdBridg.gpt.pubads().getSlots(),function(e){var t,n=document.getElementById(e.getSlotElementId());n&&n.getAttribute(R)&&(i.push(e),r.push(n),f(n,"destroyed"),(t=n.getAttribute(C)||n.getAttribute(z)||n.getAttribute(k)||n.getAttribute(j))&&(n.removeAttribute(k),n.removeAttribute(j),n.setAttribute(C,t),(n.id||"").match(T)&&n.removeAttribute("id")))}),i.length&&AdBridg.destroySlots(i),p=!(P={})}),S=function(){clearTimeout(A),p?A=setTimeout(S,100):(D.log("GamConfig restarting SPA"),a(),u())},g.on("pub.spa_pv_initialize",S),0!=e.autostart||B?u():D.log("GamConfig waiting for publisher to initialize with action=spa_pv_initialize.")):D.log("GamConfig not enabled")}var i=function(){document&&document.body?(D.log("Body loaded. Initialising Gamconfig module"),n(e,t)):setTimeout(i,100)};i()}},{"../config.js":13,"../unit.js":26,"../utils.js":27}],20:[function(e,t,n){var p=e("../utils"),o=e("../config"),a=e("../analytics.js");t.exports=function(u,e){var n,l,i,r;u.bidders&&((n=o.libSettings()).gpt_clear_kvps||(n.gpt_clear_kvps=[]),p.each(u.bidders,function(e,t){n.gpt_clear_kvps.push(e.deal),n.gpt_clear_kvps.push(e.adid)}),l={},i=p.wrapAsync(function(e,t){var n;p.log("Gprog Deal Render Ad",t,l[t]),a.gprog(["render"]),l[t]?(n=l[t],AdBridg.render(e,n),l[t]=!1,a.gprog(["render2",{config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras}])):p.err("GprogBadDealid",t)}),(r=window.top).pbjs=r.pbjs||{},r.pbjs.renderAd=i,e.on("auction.complete",function(e,t){!r.pbjs.renderAd!==i&&(r.pbjs.renderAd=i),t.eachBidRequest(function(n,i){var r,o,e,a,s,d,c=i.bidder_name,t=u.bidders[c];t&&(r=t.deal,o=t.adid,e=n.get("gpt_slot"),a=n.get("dom_id"),e&&a&&r&&o&&(s=[],d=[],p.each(i.responses,function(e){var t;e.extras&&e.extras.dealid&&(t=i.id,l[t]&&l[t].creative!=e.creative&&p.err("GprogOWcreative"),l[t]=e,s.push(e.extras.dealid),d.push(i.id),p.log("GprogDeal ("+c+"): ",n.alias,"/",a,r,"=",e.extras.dealid,";",o,"=",i.id))}),s.length&&(n.settings.gprog=n.settings.gprog||{},n.settings.gprog[r]=s,n.settings.gprog[o]=d)))})}),e.on("gpt.set_targeting",function(e,t,n){t.settings.gprog&&p.each(t.settings.gprog,function(e,t){n.setTargeting(t,n.getTargeting(t).concat(e)),a.gprog(["set",t])})}))}},{"../analytics.js":11,"../config":13,"../utils":27}],21:[function(e,t,n){var o=e("../utils");t.exports=function(e,t){var i={},n={},r=e.offset_distance?e.offset_distance:400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return o.err("LzEstNoDom",e.alias);i[t]="lzno",n[t]&&(o.logl("lz","LazyEst removing previous",t),o.undom(t,n[t])),n[t]=function(){o.logl("lz","LazyEst triggered",t),i[t]="lzyes"},o.logl("lz","LazyEst measurement",t,o.where(t)),o.dom(t,r,0,n[t])})}),t.on("gpt.set_targeting",function(e,t,n){t.setImpData("lz",i[t.get("dom_id")]||"lzna")})}},{"../utils":27}],22:[function(e,t,n){var a=e("../utils.js"),s=(e("../ajax.js"),e("../config.js"),"_adb_nextroll_id");t.exports=function(e,t){var n,i;function r(){var t,n=["ReadAdID","YES","RetrieveNearestAdID","&ssn=","slice","join","ignoreOptout","&eid=","/push?uid=","/ping?uid=","dca0","loadSSN","exports","call","defineProperty","toStringTag","__esModule","object","create","string","default","hasOwnProperty","undefined","Module","bind","prototype","floor","random","toString","xid0","XIDOPTOUT","https://sn.dca0.com/key","https://sn36.dca0.com","GET","onreadystatechange","readyState","DONE","responseText","status","send","https://l",".dca0.com/srv-id/?uid=","k4838af91965497293f0d0f92c691c29","length","charAt","substring","indexOf","getTime","expires=","toUTCString","cookie",";path=/;samesite=none;secure;","PID","app","createElement","script","src","body","appendChild"];t=n,function(e){for(;--e;)t.push(t.shift())}(249);var i,r,z=function(e,t){return n[e=+e]};function o(e){if(r[e])return r[e][z("0x0")];var t=r[e]={i:e,l:!1,exports:{}};return i[e][z("0x1")](t[z("0x0")],t,t.exports,o),t.l=!0,t[z("0x0")]}r={},o.m=i=[function(e,t){function r(e){if(i[e])return i[e][z("0x0")];var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i;i={},r.m=n=[,,function(e,t,n){e[z("0x0")]=n(3)},function(e,t){!function(){"use strict";var e,t,h=i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i(),n=z("0x11"),b=z("0x12"),v=z("0x13"),y=z("0x14");function i(){return Math[z("0xe")](65536*(1+Math[z("0xf")]()))[z("0x10")](16).substring(1)}function _(e,t){var n=new XMLHttpRequest;n.open(z("0x15"),e,!0),n[z("0x16")]=function(){n[z("0x17")]===XMLHttpRequest[z("0x18")]&&t&&t(n[z("0x19")],n[z("0x1a")])},n[z("0x1b")]()}function x(t){var r=new Array(19),o=0,a=!1;function e(e,t,n){var i;200===n?(i=JSON.parse(t),r[e]=i.id,o++):a=!0}for(var n=0;n<19;n++)_(z("0x1c")+n+z("0x1d")+h,e[z("0xc")](void 0,n));!function e(){a?t(null):19!==o?setTimeout(e,100):t&&t(r)}()}function w(n){!function e(){var t=window[z("0x1e")];t?n&&n(t):setTimeout(e,100)}()}function A(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=n[z("0x1f")],r=0;r<i;r++){for(var o=n[r];" "===o[z("0x20")](0);)o=o[z("0x21")](1);if(0===o[z("0x22")](t))return o[z("0x21")](t.length,o[z("0x1f")])}return""}function S(e,t,n){var i=new Date;i.setTime(i[z("0x23")]()+24*n*60*60*1e3);var r=z("0x24")+i[z("0x25")]();document[z("0x26")]=e+"="+t+";"+r+z("0x27")}function I(e,t){return t&&(t.PID&&(e+="&PID="+t[z("0x28")]),t[z("0x29")]&&(e+="&app="+t[z("0x29")])),e}(e=document[z("0x2a")](z("0x2b")))[z("0x2c")]=v,t=e,function e(){document[z("0x2d")]?document.body[z("0x2e")](t):setTimeout(e,1)}(),window[z("0x2f")]=function(){return z("0x30")===A(b)?null:A(n)},window[z("0x31")]=function(n,i){w(function(t){x(function(e){e?_(I(v+"/"+t+"/ping/nearest?uid="+h+z("0x32")+e[z("0x33")](0,19)[z("0x34")](""),i),n):n&&n(null)})})},window.RetrieveAdID=function(e,i,r){var o=!!r&&r[z("0x35")];if(z("0x30")===A(b)&&!o)return e&&e(null),void(i&&i(null));var a=r&&r[z("0x28")]?n+"_"+r[z("0x28")]:n,s=A(a)||null;e&&e(s);var d=!1,c=2,u="",l="";function p(t){!function e(){d?s&&t(s):setTimeout(e,1e3)}()}function g(e,t,n){_(I(v+"/"+e+"/push?uid="+h+z("0x36")+encodeURIComponent(n)+z("0x32")+t.slice(0,19)[z("0x34")]("")))}function f(e,t){_(I(y+z("0x37")+h+z("0x36")+encodeURIComponent(t)+z("0x32")+e.slice(0,10).join(""),r))}function m(){var e,t,n;0==--c&&(s=u||l||s||null,d=!0,o?i&&i(s):s?(e=s,t=r,n=function(e){return e?(S(b,z("0x30"),1825),void(i&&i(null))):(S(a,s,365),void(i&&i(s)))},_(I("https://optout.dca0.com/app/v1/sync?uid="+h+z("0x36")+encodeURIComponent(e),t),function(e){n("1"===e)})):i&&i(null))}x(function(n){var e;n?(w(function(t){var e;e=n,_(I(v+"/"+t+z("0x38")+h+"&ssn="+e[z("0x33")](0,19)[z("0x34")]("")),function(e){u=e,m(),u||p(g[z("0xc")](null,t,n))})}),e=n,_(I(y+"/ping?uid="+h+z("0x32")+e[z("0x33")](0,10)[z("0x34")](""),r),function(e,t){l=e,m(),l||200!==t||p(f["bind"](null,n))})):i&&i(null)})},window.dca0=window[z("0x39")]||{},window[z("0x39")].loadSNID=w,window[z("0x39")][z("0x3a")]=x}()}],r.c=i,r.d=function(e,t,n){r.o(e,t)||Object[z("0x2")](e,t,{enumerable:!0,get:n})},r.r=function(e){z("0xa")!=typeof Symbol&&Symbol[z("0x3")]&&Object[z("0x2")](e,Symbol[z("0x3")],{value:z("0xb")}),Object[z("0x2")](e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&z("0x5")==typeof t&&t&&t[z("0x4")])return t;var n=Object[z("0x6")](null);if(r.r(n),Object.defineProperty(n,z("0x8"),{enumerable:!0,value:t}),2&e&&z("0x7")!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}[z("0xc")](null,i));return n},r.n=function(e){var t=e&&e[z("0x4")]?function(){return e[z("0x8")]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object[z("0xd")].hasOwnProperty[z("0x1")](e,t)},r.p="/",r(r.s=2)}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object[z("0x2")](e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol[z("0x3")],{value:"Module"}),Object[z("0x2")](e,z("0x4"),{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&z("0x5")==typeof t&&t&&t[z("0x4")])return t;var n=Object[z("0x6")](null);if(o.r(n),Object[z("0x2")](n,"default",{enumerable:!0,value:t}),2&e&&z("0x7")!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e[z("0x4")]?function(){return e[z("0x8")]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype[z("0x9")][z("0x1")](e,t)},o.p="/",o(o.s=0)}function o(e){var t;a.log("Nextroll ID fetched",e||"(empty)"),null!=(t=e)&&""!==t&&(n=e,a.lw(s,e))}"string"==typeof e.partner_id?!function(){var e=navigator.userAgent.toLowerCase();if(0<=e.indexOf("(linux; android ")){var t=e.substr(e.indexOf("linux; android ")+15).split(/\W/),n=parseInt(t[0]),i=parseInt(t[1]),r=parseInt(t[2]);if(isNaN(n)||n<4||4===n&&isNaN(i)||4===n&&0===i&&(isNaN(r)||r<3))return}else if(!e.match(/\b(ipad|iphone|ipod)\b/)||parseInt(e.substr(e.indexOf(") version/")+10),10)<9)return;return 1}()?a.log("Nextroll ID skipped: invalid UA"):(n=a.lr(s,!0),t.on("unit.config",function(e,t){n&&(a.log("Set Nextroll ID on unit",n,t),t.set("userId.nextroll",n))}),n?a.log("Nextroll ID read",n):(i=!1,t.on("gpt.render_raw",function(){i||(i=!0,a.log("Nextroll ID setup"),r(),window.RetrieveAdID(o,o,{PID:e.partner_id,app:"nextroll_id_module"}))}))):a.err("Nextroll missing partner_id")}},{"../ajax.js":10,"../config.js":13,"../utils.js":27}],23:[function(e,t,n){var c=e("../utils.js");t.exports=function(e,t){var n="_adbrh",i=n,r=c.qs("adb_rh");if("0"===r?c.cw(n,"",0):r&&c.cw(n,"1",365),c.cr(n)){c.log("RH ad creative history activated.");var o={dfp:[],adb:[]};try{(o=(o=localStorage.getItem(i))&&JSON.parse(o))&&o.dfp||(o={dfp:[],adb:[]})}catch(e){c.err("RH failed to load history from local storage")}function a(e,t){return{t:(new Date).toString(),d:c.url().domain,u:c.url().page,i:e.getSlotElementId(),s:e.getAdUnitPath(),e:t}}function s(e,t){var n=e.length-t;0<n&&e.splice(0,n),localStorage.setItem(i,JSON.stringify(o))}t.on("gpt.render_raw",function(e,t){var n={advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,isEmpty:t.isEmpty,lineItemId:t.lineItemId,size:t.size,sourceAgnosticCreativeId:t.sourceAgnosticCreativeId,sourceAgnosticLineItemId:t.sourceAgnosticLineItemId};c.each(n,function(e,t){e||delete n[t]});var i=a(t.slot,n);o.dfp.push(i),s(o.dfp,20)}),t.on("bid.render",function(e,t){var n=a(t.config.unit.get("gpt_slot"),{config:t.config.unit.alias,bidder:t.config.bidder_name,bidderid:t.config.bidder_unit_id,extras:t.extras,ad:escape(t.creative)});o.adb.push(n),s(o.adb,20),c.rec(["RH",JSON.stringify(n)])});var d=document.createElement("DIV");d.style="display:block;cursor:pointer;position:fixed;z-index:99999999;top:5px;right:50%;padding:5px 20px;background:red;border:black;box-shadow:1px 2px 6px white;color:white;font-size:12px;",d.innerText="Ad History",d.addEventListener("click",function(){document.write("<button onclick=\"document.getElementById('debuginfo').select()\">Select All</button>&nbsp;|&nbsp;<button onclick=\"localStorage.removeItem('_adbrh');location.reload()\">Clear History</button>&nbsp;|&nbsp;<button onclick=\"location.reload()\">Refresh</button><br><textarea cols=100 rows=100 style='max-height:80%;max-width:80%' id='debuginfo'>"+JSON.stringify(o,null,2)+"</textarea>")}),document.body.appendChild(d)}}},{"../utils.js":27}],24:[function(e,t,n){var s=e("./utils.js");function i(e){var t=this,n=e.url,i=e.config,r=e.id,o=e.callback,a=e.loaded;this.url=n,this.config=i,this.handlers={},this.id=r,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):s.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},s.load(n,this.callback,!0)}i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},i.prototype.getConfig=function(){return this.config},i.prototype.setRender=function(e){this.render=e},i.prototype.setEventHandlers=function(e){this.handlers=e},i.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),s.log("Prebid Renderer event for id "+t+" type "+n)},i.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){s.err("Error processing Renderer command: ",e)}},t.exports=i},{"./utils.js":27}],25:[function(e,t,n){function m(t){var e="GET"===t.method&&("object"==typeof t.data?v.toqs(t.data,!0):t.data),n={method:t.method,url:"GET"===t.method&&e?[t.url,"?",e].join(""):t.url,withCredentials:!1!==(t.options&&t.options.withCredentials),parseResponseJson:void 0===t.parseResponseJson||t.parseResponseJson,data:"POST"===t.method&&("object"==typeof t.data?JSON.stringify(t.data):t.data),contentType:(t.options||{}).contentType};return s.libSettings().ajaxraw&&(n.rawProcessor=function(e){s.libSettings().ajaxraw(t,e)}),n}function r(e,t){var n=t.config.size.split("x"),i=n[0],r=n[1],o=2*r<i?["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;}",".native-flex{display:flex;flex-direction:column;height:",r,"px;}",".native-flex-container{display:flex;flex-direction:row;flex:1}",".native-flex-content{display:flex;flex-direction:column;flex:7}",".native-image{background-image:url(",e.image.url,");flex:1;margin-right:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-flex">','<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-flex-container">','<div class="native-image"></div>','<div class="native-flex-content">','<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</div>","</div>","</div>","</a>"].join(""):["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;display:flex;flex-direction:column;height:",r,"px;}",".native-image{background-image:url(",e.image.url,");flex:2;margin-bottom:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-image"></div>','<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"].join("");return o+=["<script>",'var container=Array.from(document.getElementsByTagName("script")).pop().parentElement,','body=container.querySelector(".native-body"),','body2=container.querySelector(".native-body2");',"if(container.clientHeight-container.scrollHeight)",'body.innerText="";','body2.innerText="";',"<\/script>"].join("")}function h(e,t){return{creative:e.ad||(e.native?(n=e.native,((i=t).unit.settings&&i.unit.settings.nativeTemplate||r)(n,i)):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|t.config.size.split("x")[0]:e.width,height:e.native?0|t.config.size.split("x")[1]:e.height,extras:{dealid:e.dealId||e.dealid,crid:e.creativeId||e.creativeid,ttl:e.ttl,cur:e.currency,nr:e.netRevenue,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e};var n,i}function o(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),i=n[0],r=n[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(r)):e[i]=r||"",e},{}):{}}function i(e,t){var n=document.createElement("a");t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var i=t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:i?n.search:o(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}var a,b=e("./ajax.js"),v=e("./utils.js"),s=e("./config.js"),d=e("./renderer.js"),y={auction:void 0,gdpr_consent_object:void 0},_={createEidsArray:function(e){var t=y.auction.findUnit(function(){return 1}),n=t&&t.toPrebidUIDs();return n&&n.userIdAsEids},JSEncrypt:0,sha256:0,formatQS:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")},findIndex:function(e,t){return e.indexOf(t)},getRefererInfo:function(){return{referer:v.url().href,stack:[v.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},utils:{parseUrl:function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var i=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:i?n.search:o(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},getValue:function(e,t){return e[t]},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+_.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")},isBoolean:function(e){},getParameterByName:v.qs,getAdUnitSizes:!1,parseQueryStringParameters:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},getKeys:function(e){return Object.keys(e)},insertElement:function(e,t,n,i){var r=(t=t||document).getElementsByTagName(n||"head");r.length||(r=t.getElementsByTagName("body"));var o=r[0];if(o)return o.insertBefore(e,i?null:o.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!v.url().is_top},_map:function(n,i){if(!n)return[];if("function"==typeof n.map)return n.map(i);var r=[];return v.each(n,function(e,t){r.push(i(e,t,n))}),r},deepAccess:v.deepAccess,deepSetValue:function(e,t,r){return t.split(".").reduce(function(e,t,n,i){return n===i.length-1?e[t]=r:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return v.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:v.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:v.err,logWarn:v.log,logMessage:v.log,logInfo:v.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(a=0,function(){return++a}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(i,r){return v.each(i,function(e){var t=i[e],n=i[e];r[e]="function"==typeof t?n(n):"string"===t?n&&n.toString():"number"===t?Number(n):n,isNaN(r[e])&&delete r[e]}),r},createTrackPixelHtml:v.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e){var i=[];return v.each(e,function(e,t){var n={key:t};Array.isArray(e)&&(n.value=e.map(function(e){return e+""})),null!=e&&(n.value=[e+""]),n.hasOwnProperty("value")&&i.push(n)}),i},tryAppendQueryString:function(e,t,n){return n?e+(t+"="+encodeURIComponent(n))+"&":e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:v.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},deepClone:function i(r){return Object.keys(r).reduce(function(e,t){var n={}.toString.call(r[t]).slice(8,-1);return e[t]="Array"===n||"Object"===n?i(r[t]):"Date"===n?new Date(r[t].getTime()):"RegExp"===n?new RegExp(r[t]):r[t],e},Array.isArray(r)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,i){return e.reduce(function(e,t,n){return n%i?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var n=[];n.length<t;n.push("object"==typeof e?_.utils.deepClone(e):e));return n},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:v.genUUID,getBidRequest:function(e,t){for(var n=0;n<t.length;++n)for(var i=t[n],r=0;r<i.bids.length;++r){var o=i.bids[r];if(o.bidId===e||o.adId===e||o.bid_id===e)return o}v.err("shimGetBidRequestFail",e)},triggerPixel:function(e){v.uspi("S2S",e)},uniques:function(e,t,n){return n.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return v.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:v.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},verify:null,urlUtils:{parse:i},url:{type:0,parse:i,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(_.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return v.url().href;case"bidderTimeout":return y.auction.max_ms;case"consentManagement.cmpApi":return y.gdpr_consent_object.cmpApi;case"rubicon.singleRequest":return!0;case"priceGranularity":return"custom";case"customPriceBucket":return{buckets:(s.libSettings().bid_strategy||"").split(",").map(function(e){var t=e.split(":"),n=t[1].split("-").map(Number);return{precision:2,increment:t[0],min:n[0],max:n[1]}})};default:return _.config.config[e]}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof defaults)return v.err("defaults must be an object");v.assign(_.config.config,e)}},parse:i,registerBidder:function(){},userSync:{registerSync:function(e,t,n){var i="image"===e||"img"===e?v.uspi:"iframe"===e?v.uspf:void 0;i?i(t,n):v.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:d,loadExternalScript:function(e,t){v.log("module "+t+"is loading external JavaScript"),v.load(e,null,!0)},ajax:function(e,i,t,n){v.ajax(v.assign({},n,{data:t,url:e}),function(e,t,n){e&&i.error?i.error(e.err,e):i.success?i.success(t,n):i(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return y.PBJSObjects.bidRequests}},getStorageManager:function(){return{getCookie:function(e,t){var n=v.cr(e);return t&&"function"==typeof t?t(n):n},cookiesAreEnabled:function(e){var t=v.cookies;return e&&"function"==typeof e?e(t):t},hasLocalStorage:function(e){var t=!!window.localStorage;return e&&"function"==typeof e?e(t):t},setDataInLocalStorage:function(e,t,n){return window.localStorage.setItem(e,t),n&&"function"==typeof n?n():t},getDataFromLocalStorage:function(e,t){var n=window.localStorage.getItem(e);return t&&"function"==typeof t?t(n):n}}}};_.isArray=_.utils.isArray,_.isInteger=_.utils.isInteger,_.deepAccess=_.utils.deepAccess,_.generateUUID=_.utils.generateUUID,_.triggerPixel=_.utils.triggerPixel,_.convertTypes=_.utils.convertTypes,_.parseUrl=_.utils.parseUrl,t.exports={wrap:function(g){var f={};return function(c,u,e,l,p){this.gdprSupport=g.gdprSupport,this.uspSupport=g.uspSupport,this.settings=e,this.buildPrebidParams=function(e){return t=g.unitIDKey,n=g.floorKey,i=g.floorStr,r=e,delete(o=v.deepAssign({},r.params)).adjust,o[t]=r.bidder_unit_id,"string"==typeof o[t]&&-1===["undertone","yieldmo"].indexOf(r.bidder_name)&&o[t].match(/^\d+$/)&&(o[t]=parseInt(o[t])),"string"==typeof o.size&&(o.size=v.sizeStrToArr(o.size)),n&&(o[n]=r.min_cpm,i&&(o[n]=o[n].toFixed(2))),!o.video&&r.mediaTypes.video&&(o.video=v.copy(r.mediaTypes.video)),o;var t,n,i,r,o},this.getPrebidReqCtr=function(e){return(f[e]||0)+1},p&&p.on("pub.spa_pv_shutdown",function(){f={}}),this.execute=function(r){var n={};r.eachBidRequest(c,function(e){var t=e.toPrebidAdUnitCode();n[t]||(n[t]=!0,f[t]=(f[t]||0)+1)}),y.auction=r,y.gdpr_consent_object=l,y.alias=c;var o=r.toPrebidBidderReq(c);p.trigger("bidder.requested",o,r),g.floorKey&&g.floorStr&&o.bids.forEach(function(e){e.params[g.floorKey]=String(e.params[g.floorKey])}),o.start=(new Date).getTime();var e={bidderRequest:o,bidRequests:o.bids};y.PBJSObjects=e,"adagio"===c&&v.wrapAsync(g.spec.isBidRequestValid,void 0,g.spec)({params:{}});var a=v.wrapAsync(g.spec.buildRequests,void 0,g.spec)(e.bidRequests,e.bidderRequest);Array.isArray(a)||(a=[a]);var t,i,s=[],d=(t=c,i={},r.eachBidRequest(t,function(e,t){i[t.id]={config:t,unit:e}}),i);a.map(m).forEach(function(e,i){e.max_ms=r.ajax_ms,b(e,v.wrapAsync(function(e,t){var n;s.push(t),!e&&t&&(n=v.wrapAsync(g.spec.interpretResponse,void 0,g.spec)({body:t},a[i]),Array.isArray(n)||(n=[n].filter(Boolean)),n.forEach(function(e){var t,n,i,r=d[e.requestId];if(!r)return v.err(["unrequested response from",c,":",JSON.stringify(e)].join(" "));e.requestTimestamp=o.start,e.responseTimestamp=(new Date).getTime(),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,n=e,i=r.config,n.ad||n.native||n.renderer||(n.vastUrl||n.vastXml)&&i.renderer?(t=h(e,r),r.unit.addBid(r.config,t)):r.unit.addEmptyBid(r.config),r.found=!0})),s.length===a.length&&function(){Object.keys(d).map(function(e){return d[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),p.trigger("bidder.done",o,c,r);[].concat(g.spec.getUserSyncs&&v.wrapAsync(g.spec.getUserSyncs,void 0,g.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},s.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){_.userSync.registerSync(e.type,u,e.url)})}()}))})}}},polyfills:_}},{"./ajax.js":10,"./config.js":13,"./renderer.js":24,"./utils.js":27}],26:[function(e,t,n){var j=e("./utils"),R=e("./analytics"),T=e("./modules"),B=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.dom_ad_class="",this.settings={},this.unique_id=j.genID("U"),this.uuid=j.genUUID(),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var _=this,s={},x={},l=0,i={},w=[],p={},o=!1,A=!1,t=!1,S=!1,g=!1,a=[];this.init=function(){e&&(_.set(e),T.trigger("unit.init_config",_))},this.restrictSizesTo=function(e){_.all_sizes=_.original_sizes,j.logl("sz","Unit",_.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(g)),g=e,a.length&&_.allowSizes(a);for(var t,n,i=[],r=_.all_sizes.length-1;0<r;--r){-1===g.indexOf(_.all_sizes[r])&&(t=_.all_sizes[r],_.all_sizes.splice(r,1),0<=(n=_.other_sizes.indexOf(t))&&_.other_sizes.splice(n,1),i.push(t))}d(),j.logl("sz","Unit",_.alias,"removed sizes",JSON.stringify(i),"allowed sizes",JSON.stringify(g)),T.trigger("unit.restrict_sizes",_,g,i)},this.allowSizes=function(e){a=[],j.each(e,function(e){j.logl("sz","Unit size added",_.alias,e),g&&-1==g.indexOf(e)&&g.push(e),-1==a.indexOf(e)&&a.push(e),-1==_.other_sizes.indexOf(e)&&_.other_sizes.push(e),-1==_.all_sizes.indexOf(e)&&_.all_sizes.push(e),d()}),j.logl("sz","Unit",_.alias,"allowed sizes",a),T.trigger("unit.allow_sizes",_,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?_.hasOwnProperty(t)&&"function"!=typeof _[t]&&(_[t]=JSON.parse(JSON.stringify(e[t]))):j.each(e[t],function(e,t){_.settings[t]=e}));_.all_sizes=[_.size].concat(_.other_sizes),_.original_sizes=[].concat(_.all_sizes),j.logl("sz","Unit definition original_sizes=",JSON.stringify(_.original_sizes),"size=",JSON.stringify(_.size),"other_sizes=",JSON.stringify(_.other_sizes)),j.qs("adb_force_bidder")&&(_.min_cpm=0),d(),T.trigger("unit.config",_)},this.addBidder=function(e,t){p[e]=t},this.eachBidder=function(e){for(var t in p)p.hasOwnProperty(t)&&s[t]&&e(t,p[t])},this.hasBidReqConf=function(){return 0<l},this.addBidReqConf=function(d,e,t){var c,u={id:j.genID("BR"),uuid:j.genUUID(),unit:_,adjust:1,bidder_name:d,bidder_id:e.bidder_id,bidder_unit_id:e.bidder_unit_id,min_cpm:_.min_cpm,size:_.size,other_sizes:_.other_sizes,all_sizes:[],responses:[],late_responses:[],test:e.test,toPrebid:function(){var e=_.auction.getBdrReqId(d),t=_.toPrebidUIDs(),n=j.copy(_.settings.mediaTypes),i=f(n,_.all_sizes),r=_.toPrebidAdUnitCode();c=c||p[d].getPrebidReqCtr(r);var o=_.get("imp_ctr")||1,a=j.assign({src:"client",adUnitCode:r,adbconfig:_.alias,auctionId:_.auction.uuid,bidId:u.id,bidder:d,bidderRequestId:e,bidderRequestsCount:c,bidderWinsCount:0,bidRequestsCount:o,mediaTypes:n,params:u.params,sizes:i,transactionId:_.uuid,renderer:_.settings.renderer},t),s=u.mediaTypes.native||u.nativeParams;return s&&(a.nativeParams=s),a}};if(p[d]){j.deepAssign(u,_.settings,p[d].settings,e.settings),u.params=j.deepAssign({},p[d].settings,e.settings),1!=u.adjust&&(u.min_cpm=Number((u.min_cpm/u.adjust).toFixed(2)));var n=[],i=!1;if("function"==typeof e.mutate&&n.push({n:"BidReq",f:e.mutate}),"function"==typeof p[d].mutate&&n.push({n:"Bidder",f:p[d].mutate}),j.each(n,function(e){e.f(u,t)||(i=!0,j.log(e.n+" mutate rejected BR: ",u))}),!i)if(!u.test||j.qsab(d,u.bidder_id,!0)){if(e.settings.size?u.other_sizes=[]:"string"==typeof u.other_sizes&&(u.other_sizes=u.other_sizes?u.other_sizes.split(","):[]),g){var r=[];0<=g.indexOf(u.size)&&r.push(u.size);for(var o=0;o<u.other_sizes.length;++o){var a=u.other_sizes[o];0<=g.indexOf(a)&&r.push(a)}if(!r.length)return void(g.length&&j.log("Unit ",_.alias," skipped configuration for ",u.bidder_name," because it does not support any of these sizes: ",g));u.size=r[0],u.other_sizes=r.slice(1)}u.all_sizes=[u.size].concat(u.other_sizes),j.logl("sz","Bid request sizes:",u.all_sizes),s[d]||(s[d]=[]),s[d].push(u),x[u.id]=u,++l,u.params=p[d].buildPrebidParams(u),T.trigger("unit.config_brc",_,u)}else j.log("Test configuration skipped: ",u)}else j.err("BR missing bidder",d)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?j.each(s[e],t):j.each(x,t)},this.getBidReqConf=function(e){return x[e]||!1},this.set=function(e,t){if("object"!=typeof e)i[e]=t;else for(var n in e)e.hasOwnProperty(n)&&_.set(n,e[n])},this.setImpData=function(e,t,n){var i=_.get("adb_imp_data")||{};i[e]=n&&i[e]||t,_.set("adb_imp_data",i)},this.get=function(e){return i[e]},this.halt=function(){A=!0},this.onReady=function(e){t=e,I()};var I=function(){S&&t&&setTimeout(function(){t(_)},0)};this.markEmpty=function(e){_.eachBidReqConf(e,function(e){e.responses.length||_.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=x[t]))return void j.err("Could not find bid req: ",t)}e.responses.length||A&&e.late_responses.length||_.addBid(e,{})};function z(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative}this.addBid=function(e,t){if(!e||!_.getBidReqConf(e.id))return j.err("Bid request from ",e.bidder_name,"not found on unit",_.id),!1;var n=Number(parseFloat(t.cpm).toFixed(2))||0,i=Number(t.width)||0,r=Number(t.height)||0,o=t.creative||"",a=t.creative_url||"",s=t.extras||{},d=t.force||!1,c=t.render,u=t.vastUrl,l=t.vastXml,p=t.rawbid;n||(t.empty=!0);var g=Number((n*e.adjust).toFixed(2)),f=e.min_cpm;0<f&&g<f&&(g=0);var m=B.libSettings().pubchkcreativefn;o&&"function"==typeof m&&!m(e,t,B.libSettings())&&(j.log("Creative blocked: ",e.bidder_id,i,r,g,s),g=0);var h=t.fromPool?t.ts:j.dts(),b={id:_.id+"."+j.genID("B"),ms:Math.round(h-_.auction.ts),ts:h,config:e,viable:!A,cpm:g,_min_cpm:f,_bid_cpm:n,force:d,width:i,height:r,creative:o,creative_url:a,extras:s,render:c,vastUrl:u,vastXml:l,rawbid:p,fromPool:t.fromPool};if(C(b),function(e,t){for(var n=0;n<e.responses.length;++n)if(z(t,e.responses[n]))return!0;for(n=0;n<e.late_responses.length;++n)if(z(t,e.late_responses[n]))return!0;return!1}(e,b))return j.log("Unit ",_.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",b.ms,b.width+"x"+b.height,b.cpm.toFixed(2)),!1;var v,y=b.viable?"":"late ";return!b.cpm&&0<b._bid_cpm?(v=1!=e.adjust?" * "+e.adjust+" = "+Number((b._bid_cpm*e.adjust).toFixed(2)):"",y+="below-floor ("+b._bid_cpm+v+" < "+b._min_cpm+") "):t.empty&&(y+="empty "),j.log("Unit ",_.alias,"got",y+"bid from ",e.bidder_name," on BR ",e.id,": ",b.ms,b.width+"x"+b.height,b.cpm.toFixed(2)),T.trigger("bid.ready",b),b.pbjsBid&&k(b),b.viable?(e.responses.push(b),w.push(b),T.trigger("bid.response",b),function(){if(!A){for(var e in x){var t=x[e];if(t.responses&&!t.responses.length)return}S=!0,I()}}()):(e.late_responses.push(b),R.lateBid(b)),b},this.getWinner=function(){return o||("function"==typeof B.libSettings().filter_bid&&j.wrapAsync(B.libSettings().filter_bid),j.each(w,function(t){T.trigger("bid.auction_close_filter",_,t),t.blocked&&(t.cpm=0,j.log("Bid filtered out",_.alias,t.config.bidder_name,t.blocked));var e=t.width+"x"+t.height;if(t.cpm&&g&&g&&-1==g.indexOf(e)){var n=t.fromPool&&t.fromPool!==_.unique_id?"(pooled bid)":"";return j.log("Unit ",_.alias,"rejected",n,t.config.bidder_name,"invalid size",e),void(t.fromPool||j.err("U",_.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,g))}var i=t.cpm&&(!o||t.cpm>o.cpm||t.cpm==o.cpm&&.5<Math.random());if(o&&o.force&&(i=!1),t.force||i){o=t;try{function r(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))}r("creative"),r("creative_url")}catch(e){j.err("Macro failed: ",e)}}}),o&&(j.log("Unit ",_.alias,"set winner to ",o.config.bidder_name,o.fromPool&&o.fromPool!==_.unique_id?"(from pool)":"",o.width+"x"+o.height,o.cpm.toFixed(2)),T.trigger("bid.auction_winner",o))),o},this.toPrebidUIDs=function(){var r=!1;return j.each(i,function(e,t){var n=t.match(/^userId\.(.+)$/),i=t.match(/^userIdAsEids\.(.+)$/);!n&&!i||r||(r={userId:{},userIdAsEids:[]}),n&&(r.userId[n[1]]=e),i&&r.userIdAsEids.push(e)}),r&&r.userId.pubcid&&(r.crumbs={pubcid:r.userId.pubcid}),r||{}};function r(e,t){return j.toRange(e,t).kv.split("-").shift()}var d=function(){_.settings.mediaTypes||(_.settings.mediaTypes={}),_.settings.mediaTypes.banner={sizes:_.all_sizes.filter(Boolean).map(j.sizeStrToArr)}},f=function(e,t){var n=e.banner?j.copy(e.banner.sizes):[];if(e.video){var i=e.video.playerSize;j.isarr(i[0])||(i=[i]);for(var r=0;r<i.length;++r){var o=i[r].join("x");-1===t.indexOf(o)&&n.push(i[r])}}return n},C=function(e){var t,n=e.config.toPrebid();e.rawbid&&e.viable?(t=j.deepAssign({},e.rawbid,{source:"client",statusMessage:"Bid available",currency:"USD",originalCurrency:"USD",cpm:e.cpm,originalCpm:e._bid_cpm,bidderCode:n.bidder,bidder:n.bidder,requestId:n.bidId,adUnitCode:n.adUnitCode,adbconfig:n.adbconfig,auctionId:n.auctionId,adId:e.id,mediaType:e.rawbid.mediaType,creativeId:e.rawbid.creativeId,netRevenue:e.rawbid.netRevenue,width:e.width,height:e.height}),e.pbjsBidO=j.deepAssign({},t),e.pbjsBid=t):e.pbjsNoBid=n},k=function(e){var t,n=e.width+"x"+e.height,i=(t=e.pbjsBid.cpm,{pbLg:r(t,".5:0-5"),pbMg:r(t,".1:0-20"),pbHg:r(t,".01:0-20"),pbDg:r(t,".01:0-2.99;.05:3-7.5;.5:8-20"),pbAg:r(t,".05:0-4.95;.1:5-9.5;.5:10-20"),pbCg:r(t,B.libSettings().bid_strategy)});j.assign(e.pbjsBid,i,{size:n,adserverTargeting:{hb_bidder:e.pbjsBid.bidderCode,hb_adid:e.pbjsBid.adId,hb_pb:i.pbMg,hb_size:n,hb_source:"client",hb_format:e.rawbid.mediaType}})};this.toPrebidAdUnitCode=function(){return _.get("dom_id")||_.unique_id},this.toPrebidAdUnit=function(){var e=j.copy(this.settings.mediaTypes),t=f(e,this.all_sizes),n=this.toPrebidUIDs(),i=[];return this.eachBidReqConf(function(e){i.push(j.assign({bidder:e.bidder_name,params:e.params},n))}),{code:this.toPrebidAdUnitCode(),adbconfig:this.alias,sizes:t,mediaTypes:e,bids:i,transactionId:this.uuid}},this.toPrebidResults=function(){var t={noBids:[],bidsReceived:[],winningBids:[]};return j.each(w,function(e){return e.pbjsBid?t.bidsReceived.push(e.pbjsBid):e.pbjsNoBid?t.noBids.push(e.pbjsNoBid):e.adbridg_rendered?t.winningBids.push(e.pbjsBid):void 0}),t},this.init()}},{"./analytics":11,"./config":13,"./modules":16,"./utils":27}],27:[function(e,t,g){var i;g.wrapAsync=function(e,t,n){return function(){try{return e.apply(n||this,arguments)}catch(e){t?t(e):g.err("Caught AsyncErr: ",e)}}},g.thread=function(t){return t=g.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},g.attempt=function(e,t){try{return e()}catch(e){}return t};function r(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}var n=1,o=(new Date).getTime(),a=function(){try{o-=Math.round(performance.now()),a=function(){return r()+"T"+Math.round(performance.now()).toString(36)},i=[n,o.toString(36),a()]}catch(e){a=function(){return r()+"T"+Math.max(0,(new Date).getTime()-o).toString(36)},i=[n=0,o.toString(36),r()+"T0"]}};a();function f(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),n}f(document,"readystatechange",function(){var e,t,n;3==r()&&(e=document,t="readystatechange",n=arguments.callee,e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)),i.push(a())}),g.perfts=function(){return a()},g.pgts=function(){return i},g.dts=function(){return n?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-o).toFixed(2))};var s=0;g.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},g.vp=function(){var e,t,n,i=document;try{e=window.innerWidth,t=window.innerHeight,n=window.pageYOffset}catch(e){}return{w:e||(i.documentElement&&i.documentElement.clientWidth||i.body&&i.body.clientWidth)||0,h:t||(i.documentElement&&i.documentElement.clientHeight||i.body&&i.body.clientHeight)||0,y:n||i.body&&i.body.scrollTop||0}},g.cr=function(e){var t=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t=t?decodeURIComponent(t[2]):""},g.cw=function(e,t,n){exp_string=0<(n=n||1)?"max-age="+86400*n:"max-age=-99999";var i=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain="+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1");document.cookie=i},g.lr=function(t){var e="";try{var n,i=localStorage.getItem(t);i&&(i=JSON.parse(i),n=(new Date).getTime(),i.e&&parseInt(i.e,36)<n?g.logl("ls","LS expired",t,i,n):(g.logl("ls","LS read",t,i),e=i.v))}catch(e){g.logl("ls","LS read fail",t,json_decode_it,e)}return e},g.lw=function(t,n,i){try{var e,r={v:n};i&&(e=(new Date).getTime(),r.s=e.toString(36),r.e=(e+864e5*i).toString(36)),r=JSON.stringify(r),localStorage.setItem(t,r),g.logl("ls","LS written",t,n,i,r)}catch(e){g.logl("ls","LS write fail",t,n,i,e)}};try{var d="adbct";g.cw(d,1),g.cookies=!!g.cr(d),g.cw(d,"",-1)}catch(e){}try{g.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}g.https=!("https:"!=location.protocol),g.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,g.genUUID)}catch(e){return 0}},g.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=g.qs("adb_force_bidder"),u=g.qs("adb_allow_bidder"),l=[];c&&"*"!=c&&(l=l.concat(c.split(","))),u&&"*"!=u&&(l=l.concat(u.split(","))),g.qsab=function(e,t,n){return t=String(t),"*"==u||"*"==c||(!n&&!c||0<=l.indexOf(t)||0<=l.indexOf(e))},g.qsappend=function(e,t,n,i){return i&&!t?"":(n&&(t=encodeURIComponent(t)),"&"+e+"="+t)},g.toqs=function(e,n){var i="";return g.each(e,function(e,t){g.isarr(e)?g.each(e,function(e){i+=g.qsappend(t+"[]",e,n)}):i+=g.qsappend(t,e,n)}),i.replace(/^\&/,"")},g.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var n=0;n<e.length;++n)t(e[n],n);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},g.sizeStrToArr=function(e){return g.isarr(e)?e:"string"==typeof e?e.split("x").map(Number):(g.err("BadSizeConvert",e),e)},g.resize_element=function(e,t,n){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=n&&(e.style.height=n+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=n&&e.setAttribute("height",n)},g.resize_iframe=function(e,t,n,i){try{for(var r=e.document.getElementsByTagName("iframe")||[],o=0;o<r.length;++o)try{if(r[o].contentDocument===t)return g.resize_element(r[o],n,i),void(e!==top&&g.resize_iframe(e.parent,e.document,n,i))}catch(e){}}catch(e){g.err("Error resizing window to "+n+"x"+i,e)}g.err("Failed to resize window to "+n+"x"+i)},g.url=function(){var t,n,i,r,o,e=top,a=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,n=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,i=e.document.referrer,r=e.document.title,o=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),n=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),o=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,r=i=""}catch(e){}}return t&&n||(t=a.location.host,n=a.location.pathname+a.location.search+a.location.hash,o=a.location.protocol,href=a.location.href,i=s.referrer),{domain:t,page:n,href:href,referrer:i,title:r,is_top:d,protocol:o}},g.pixel=function(e,t){var n=t?(new Date).getTime():Math.random();document.createElement("img").src=e+"&rnd="+n},g.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},g.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+g.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var p,m=[],h={};g.uspf=g.wrapAsync(function(e,t){g.logl("px","UserSync qF",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"f",u:t})}),g.uspi=g.wrapAsync(function(e,t){g.logl("px","UserSync qI",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"i",u:t})});var b=!0,v=!0,y=500;g.cfusp=function(e,t,n){e||(b=!1),t||(v=!1),n&&(y=n),g.log("UserSync set: ",{image:b,iframe:v,delay:y})};var _=g.wrapAsync(function(){if(clearTimeout(p),m.length){var e=Math.floor(Math.random()*m.length),t=m[e];if(m.splice(e,1),v&&"f"==t.t){var n=document.createElement("div");n.innerHTML=g.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(n.firstChild),g.log("UserSync (F): ",t.a,t.u)}else{if(!b||"i"!=t.t)return g.log("UserSync not sent (!): ",t),_();document.createElement("img").src=t.u,g.log("UserSync (I): ",t.a,t.u)}p=setTimeout(_,50)}});g.qdusp=function(){if(g.logl("px","UserSync Q",m,y,b,v,g.safari,g.cookies),g.safari||!g.cookies)return g.logl("px","UserSync skipped",g.safari,g.cookies);clearTimeout(p),p=setTimeout(_,y)};var x={};g.load=function(e,t,n,i){var r,o;t=t?g.wrapAsync(t):function(){},n&&x[e]?x[e].ready?t():x[e].cbs.push(t):(n&&(x[e]||(x[e]={ready:!1,cbs:[t]}),t=function(){x[e].ready=!0,g.each(x[e].cbs,function(e){e()})}),(r=document.createElement("script")).type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e,(o=i||(document.body||document.head)).appendChild(r,o.firstChild))},g.loadCached=function(e,t){g.load(e,t,!0)},g.iiframe=function(e){var t=document.createElement("iframe");return t.id=g.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},g.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t};var w=!(g.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)});g.isdebug=function(){return w},g.setdebug=function(e){e&&(w=e,document.cookie="adb_debug="+w+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},g.setdebug(g.qs("adb_debug")||g.cr("adb_debug")),g.log=function(){if(w){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+g.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},g.logl=function(e){w==e&&g.log.apply(g,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var A=[];g.err=function(){var t=Array.prototype.slice.apply(arguments);if(w){var e=[].concat(t);e.unshift("AdBridg | "+g.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}A.length&&g.each(A,function(e){e.apply(null,t)})};var S=!(g.onerr=function(e){A.push(e)}),I=[];g.onrec=function(e){for(S=e;I.length;)S(I.shift())},g.rec=function(e){S?S(e):I.push(e)};var z={};g.toRange=function(e,t){e=Math.round(100*e);for(var n=function(e){if(!z[e=e||".05:.05-10"]){z[e]=[];for(var t=e.split(","),n=0;n<t.length;++n){var i=t[n].split(":"),r=i[1].split("-"),o={increment:Math.round(100*parseFloat(i[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};n==t.length-1&&(o.final=o.upper-o.increment),z[e].push(o)}}return z[e]}(t),i=0;i<n.length;++i){var r=n[i];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var o=Math.floor(e/r.increment)*r.increment/100,a=parseFloat((o+r.increment/100).toFixed(2)),s=a-.01;return{r:a,kv:Math.max(.01,o).toFixed(2)+"-"+s.toFixed(2)}}}},g.fb62=function(e){for(var t=0,n=e.length-1,i=n;0<=i;i--){var r=e.charCodeAt(i),o=i===n?1:Math.pow(62,n-i);if(96<r&&r<123)t+=o*(r-87);else if(64<r&&r<91)t+=o*(r-29);else{if(!(47<r&&r<58))return"NaN";t+=o*(r-48)}}return t},g.dom=g.wrapAsync(function(e,t,n,i,r,o){C.add(e,t,n,i,r,o)}),g.undom=g.wrapAsync(function(e,t){C.remove(e,t)}),g.lzrescan=g.wrapAsync(function(){C.rescan()});var C=new function(){var n,s={},d=0,c=[],i=!1,r=!1,u=!1;this.add=function(e,t,n,i,r,o){s[e]=s[e]||[],s[e].push({c:i,d:t,t:n,i:e,f:r,x:o}),d+=1,p()},this.remove=function(e,t){var n,i=s[e]||[];if(t)for(n=i.length-1;0<=n;--n)i[n].c===t&&s[e].splice(n,1);for(t&&i.length||delete s[e],n=c.length-1;0<=n;--n)t&&c[n].c!==t||c.splice(n,1)},this.rescan=function(){g.logl("lz","Lazy explicit rescan"),n=setTimeout(p,0)},f(window,"scroll",function(){u=!0,!n&&d&&(g.logl("lz","Lazy scroll wait",100),n=setTimeout(p,100))});function l(e,t){if(e.f&&!e.f(e,t,u))return g.logl("lz","Lazy blocked",e,u),!1;if(!t.v){if(!e.x)return g.logl("lz","Lazy cannot measure el",e,t),!1;var n=document.getElementById(e.i);if(!n)return g.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var i=(n||{}).parentNode;if(!i)return g.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var r=g.where(i);if(!r.v)return g.logl("lz","Lazy collapse check - parent invis",e,t,r),!1;var o=document.createElement("span");o.style="position:absolute;display:block;width:1px;height:1px;",i.insertBefore(o,n);var a=g.where(o);i.removeChild(o),g.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:a})),t=a}return 0<e.d&&e.d<1?t.v>e.d:t.d<=e.d}var p=g.thread(function(){var a,e,t=g.dts();clearTimeout(n),n=!1,i||t-r<50?n=setTimeout(p,50):(i=!0,r=t,g.logl("lz","Lazy measure",t),a=[],g.each(s,function(e,t){var n=g.where(t);if(!n)return g.logl("lz","Lazy no dom",t);for(var i=e.length-1;0<=i;--i){var r=e[i],o=l(r,n);g.logl("lz","Lazy check",JSON.stringify({el:t,coords:n,reqdist:r.d,criteria:o,seenscr:u})),o&&(--d,e.splice(i,1),c.push(r),g.logl("lz","Lazy to duration",t))}e.length||a.push(t)}),g.each(a,function(e){delete s[e]}),e=function(e){for(var t=!1,n=c.length-1;0<=n;--n){var i=c[n],r=i.i;if(g.logl("lz","Lazy check time",i,r," has scroll event: ",u),i.tx){if(!l(i,g.where(r))){g.logl("lz","Lazy back to distance",r),i.tx=0,c.splice(n,1),s[r]=s[r]||[],s[r].push(i),d+=1;continue}}else i.tx=e+i.t;var o=i.tx-e;o<=0?(g.logl("lz","Lazy execute",r),c.splice(n,1),g.thread(i.c)()):t=t?Math.min(1+o,t):1+o}return t}(t)||100,c.length&&(g.logl("lz","Lazy duration wait",e),n=setTimeout(p,e)),i=!1)})};g.where=function(e){if("string"==typeof e&&(e=document.getElementById(e)),!e)return!1;var t=e.getBoundingClientRect(),n=g.vp(),i=t.top,r=t.height,o=t.top+r,a="in_viewport",s=0,d=1,c=k(e);return c&&(d=0,a="unknown"),i<0?(s=o<0?Math.abs(o):0,a=((d=0<o?o/r:0)?"partially_":"")+"above_viewport"):o>n.h&&(s=i>n.h?i-n.h:0,a=((d=i<n.h?(n.h-i)/r:0)?"partially_":"")+"below_viewport"),{i:c,p:a,d:s,v:d,c:{vp:n,t:i,h:r,b:o}}},g.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},g.copy=function(e){if(g.isarr(e)){for(var t=[],n=0;n<e.length;++n)t.push(g.copy(e[n]));return t}return"object"==typeof e?g.deepAssign({},e):e},g.deepAssign=function(e){if(!e)return e;for(var n=Object(e),t=1;t<arguments.length;t++){var i=arguments[t];g.each(i,function(e,t){n[t]=g.copy(e)})}return n},g.deepAccess=function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)},g.deepEq=function(r,o,a,s){if(s=s||"",(a=a||[]).some(function(e){return e===s}))return!0;if("function"==typeof o&&o(r))return!0;if("object"!=typeof r||"object"!=typeof o||null==r||null==o)return r===o||{p:s,o1:r,o2:o};var e=Object.keys(Object.assign({},r,o)).reduce(function(e,t){var n=s?s+"."+t:t,i=g.deepEq(r[t],o[t],a,n);return i&&i.hasOwnProperty("p")&&i.hasOwnProperty("o1")&&i.hasOwnProperty("o2")?e.push(i):!0!==i&&(e=e.concat(i)),e},[]);return 0===e.length||e};var k=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){g.err("get_invis_fail")}return!1};g.dom_invisible=g.wrapAsync(function(e){var t=document.getElementById(e),n=k(t);if(n)return"el_"+n;for(var i=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(i+=1,n=k(t))return"anc_"+i+"_"+n;return!1})},{}]},{},[15]);